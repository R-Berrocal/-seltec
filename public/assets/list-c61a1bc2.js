import{b as f,n as x,p as C,j as s,L as j,T as r,q as g,Q as h,t as i}from"./index-147be8e0.js";import{A as L}from"./alert-7f577afc.js";import{D as N}from"./download-06bde357.js";import{B as b}from"./block_role-55ad1a6d.js";import{a as v,C as A}from"./company-bbc70318.js";import"./useQuery-2739f2d7.js";const t=g(),E=[t.accessor("name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("address",{header:()=>"Direccion",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("email",{header:()=>"Email",cell:e=>e.getValue(),footer:e=>e.column.id})];function R(){const{companies:e,isLoading:l}=v(),{id:n,closeAlert:c,user:o}=f(a=>a),d=x(),m=b.includes((o==null?void 0:o.role)||""),{mutate:u,isLoading:p}=C(()=>A.deleteCompany(n),{onSuccess:()=>{c(),d.invalidateQueries([h.COMPANY]),i("Empresa eliminada de forma exitosa",null)},onError:a=>{i(`opps! algo no va bien ${a}`,"error")}});return l||p?s.jsx(j,{}):s.jsxs("div",{className:"relative",children:[(o==null?void 0:o.role)==="ADMIN"&&s.jsx("div",{className:"absolute z-20 right-[200px] -top-12",children:s.jsx(N,{data:(e==null?void 0:e.results)||[],fileName:"empresas"})}),s.jsxs(r,{data:(e==null?void 0:e.results)||[],columns:E,showActions:!m,children:[s.jsx(r.RowHeader,{}),s.jsx(r.Body,{})]}),s.jsx(L,{acction:u,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{R as default};
