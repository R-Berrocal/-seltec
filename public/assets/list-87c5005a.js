import{c as p,n as f,p as h,j as a,L as g,Q as V,q as l}from"./index-d0930347.js";import{T as A,c as S}from"./table-822d250b.js";import{A as v}from"./alert-f35b79f8.js";import{B as x}from"./block_role-b3da2c39.js";import{u as L,A as E}from"./assigned-vehicle-e43625e1.js";import"./useQuery-90db40b4.js";const t=S(),j=[t.accessor("operationType",{header:()=>"Operacion",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("daysService",{header:()=>"Dias de servicios",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("employee",{header:()=>"Empleado",cell:e=>{var o,s;return`${(o=e.getValue())==null?void 0:o.name} ${(s=e.getValue())==null?void 0:s.lastName}`},footer:e=>e.column.id}),t.accessor("vehicle.plate",{header:()=>"Vehiculo - placa",cell:e=>e.getValue(),footer:e=>e.column.id})];function N(){const{assigneds:e,isLoading:o}=L(),{id:s,closeAlert:n,user:r}=p(i=>i),u=f(),c=x.includes((r==null?void 0:r.role)||""),{mutate:d,isLoading:m}=h(()=>E.deleteAssignedVehicle(s),{onSuccess:()=>{n(),u.invalidateQueries([V.ASSIGNED]),l("operacion realizada de forma exitosa",null)},onError:i=>{l(`opps! algo no va bien ${i}`,"error")}});return o||m?a.jsx(g,{}):a.jsxs("div",{children:[a.jsx(A,{total:(e==null?void 0:e.count)||0,columns:j,data:(e==null?void 0:e.results)||[],showDelete:!c,showUpdate:!c}),a.jsx(v,{acction:d,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{N as default};
