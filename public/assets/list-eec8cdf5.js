import{r as c,j as o,f as d,u as h,g as j,h as A,i as r}from"./index-2849c0a5.js";import{D as R,I as g,T as l,A as L}from"./info-58bfefeb.js";import{Q as w}from"./query-keys-5a8e9e35.js";import{a as v,u as E,R as S}from"./role-3d82f1ba.js";import{A as b}from"./accodion-icon-9b81c0b6.js";import"./ChevronDownIcon-1f50c7aa.js";const D=()=>{const{role:e,isLoading:i}=v(),n=c.useMemo(()=>[{title:"id",value:e==null?void 0:e.id},{title:"cargo",value:e==null?void 0:e.name},{title:"fecha de creacion",value:new Date(e==null?void 0:e.createdAt).toLocaleString()},{title:"fecha de actulizacion",value:new Date(e==null?void 0:e.updatedAt).toLocaleString()}],[e]);return o.jsx(R,{title:"Informacion sobre el cargo",children:i?o.jsx(d,{}):o.jsx(g,{data:n,children:o.jsx(b,{position:1,title:"Empleados",body:o.jsx("section",{className:"",children:o.jsx(l,{heads:["Identificacion","Nombre","Apellido","Correo"],rows:(e==null?void 0:e.employees.map(s=>({none:s.id,identificacion:s.identification,nombre:s.name,lastName:s.lastName,email:s.email})))||[],showFooter:!1,showHeader:!1,showActions:!1})})})})})},F=()=>{const{roles:e,isLoading:i}=E(),{idRemove:n,closeAlert:s}=h(a=>a),m=j(),{mutate:u,isLoading:f}=A(()=>S.deleteRole(n),{onSuccess:()=>{s(),m.invalidateQueries([w.ROLE]),r("Cargo eliminado de forma exitosa",null)},onError:a=>{r(`opps! algo no va bien ${a}`,"error")}}),x=c.useMemo(()=>{var a;return((a=e==null?void 0:e.results)==null?void 0:a.map(t=>({none:t.id,id:t.id,name:t.name,createdAt:new Date(t.createdAt).toLocaleString()})))||[]},[e]),p=["Id","Cargo","Fecha de creacion","Acciones"];return i||f?o.jsx(d,{}):o.jsxs("div",{children:[o.jsx(l,{heads:p,rows:x}),o.jsx(L,{handleRemove:u}),o.jsx(D,{})]})};export{F as default};
