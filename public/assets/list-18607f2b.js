import{b as p,n as f,p as x,j as s,L as C,Q as g,q as i}from"./index-b3d32b80.js";import{T as h,c as j}from"./table-09637b37.js";import{A as L}from"./alert-1b131d0d.js";import{D as N}from"./download-23f80eb7.js";import{a as b}from"./block_role-b3da2c39.js";import{a as v,C as A}from"./company-4829843a.js";import"./useQuery-96cae606.js";const r=j(),E=[r.accessor("name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("address",{header:()=>"Direccion",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("email",{header:()=>"Email",cell:e=>e.getValue(),footer:e=>e.column.id})];function q(){const{companies:e,isLoading:l}=v(),{id:n,closeAlert:c,user:o}=p(t=>t),m=f(),a=b.includes((o==null?void 0:o.role)||""),{mutate:d,isLoading:u}=x(()=>A.deleteCompany(n),{onSuccess:()=>{c(),m.invalidateQueries([g.COMPANY]),i("Empresa eliminada de forma exitosa",null)},onError:t=>{i(`opps! algo no va bien ${t}`,"error")}});return l||u?s.jsx(C,{}):s.jsxs("div",{className:"relative",children:[(o==null?void 0:o.role)==="ADMIN"&&s.jsx("div",{className:"absolute z-20 right-[200px] -top-12",children:s.jsx(N,{data:(e==null?void 0:e.results)||[],fileName:"empresas"})}),s.jsx(h,{total:(e==null?void 0:e.count)||0,data:(e==null?void 0:e.results)||[],columns:E,showActions:!a,showDelete:!a,showUpdate:!a}),s.jsx(L,{acction:d,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{q as default};
