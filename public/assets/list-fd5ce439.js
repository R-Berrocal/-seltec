import{m as p,b as f,n as x,p as h,j as s,L as j,Q as L,q as i}from"./index-e9c0a00a.js";import{T as b,c as v}from"./table-fd10b765.js";import{A}from"./alert-ae0aa934.js";import{D as G}from"./download-74975c31.js";import{a as Y}from"./block_role-b3da2c39.js";import{u as C,G as D}from"./group-14bf1c4a.js";import"./useQuery-e736bbaf.js";const r=v(),M=[r.accessor("id",{header:()=>"Id",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("name",{header:()=>"Cargo",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("createdAt",{header:()=>"Fecha de creacion",cell:e=>p(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id})],Q=()=>{const{groups:e,isLoading:l}=C(),{id:c,closeAlert:n,user:o}=f(t=>t),d=x(),a=Y.includes((o==null?void 0:o.role)||""),{mutate:u,isLoading:m}=h(()=>D.deleteGroup(c),{onSuccess:()=>{n(),d.invalidateQueries([L.GROUP]),i("Grupo eliminado de forma exitosa",null)},onError:t=>{i(`opps! algo no va bien ${t}`,"error")}});return l||m?s.jsx(j,{}):s.jsxs("div",{className:"relative",children:[(o==null?void 0:o.role)==="ADMIN"&&s.jsx("div",{className:"absolute z-20 right-[210px] -top-12",children:s.jsx(G,{data:(e==null?void 0:e.results)||[],fileName:"bloques"})}),s.jsx(b,{total:(e==null?void 0:e.count)||0,data:(e==null?void 0:e.results)||[],columns:M,showDelete:!a,showUpdate:!a,showActions:!a}),s.jsx(A,{acction:u,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})};export{Q as default};
