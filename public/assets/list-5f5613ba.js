import{r as g,j as t,e as n,u as R,k as x,l as h,m as c}from"./index-3bd54e17.js";import{T as v,c as L}from"./table-c4555493.js";import{D as j,a as A,A as E}from"./block_role-c3fdb52e.js";import{Q as S}from"./query-keys-f3f28151.js";import{I as C}from"./info-7161dd75.js";import{a as D,u as b,R as M}from"./role-f1ce3dfa.js";const w=()=>{const{role:e,isLoading:a}=D(),s=g.useMemo(()=>[{title:"id",value:e==null?void 0:e.id},{title:"cargo",value:e==null?void 0:e.name},{title:"fecha de creacion",value:new Date(e==null?void 0:e.createdAt).toLocaleString()},{title:"fecha de actulizacion",value:new Date(e==null?void 0:e.updatedAt).toLocaleString()}],[e]);return t.jsx(j,{title:"Informacion sobre el cargo",children:a?t.jsx(n,{}):t.jsx(C,{data:s})})},i=L(),V=()=>{const{roles:e,isLoading:a}=b(),{idRemove:s,closeAlert:u,user:r}=R(o=>o),d=x(),l=A.includes((r==null?void 0:r.role)||""),{mutate:m,isLoading:f}=h(()=>M.deleteRole(s),{onSuccess:()=>{u(),d.invalidateQueries([S.ROLE]),c("Cargo eliminado de forma exitosa",null)},onError:o=>{c(`opps! algo no va bien ${o}`,"error")}}),p=[i.accessor("id",{header:()=>"Id",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("name",{header:()=>"Nombre",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("createdAt",{header:()=>"Fecha de creacion",cell:o=>o.getValue(),footer:o=>o.column.id})];return a||f?t.jsx(n,{}):t.jsxs("div",{children:[t.jsx(v,{data:(e==null?void 0:e.results)||[],columns:p,showDelete:!l,showUpdate:!l}),t.jsx(E,{handleRemove:m}),t.jsx(w,{})]})};export{V as default};
