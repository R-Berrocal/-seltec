import{r as v,j as s,e as c,u as x,k as g,l as j,m as n}from"./index-602d4f83.js";import{D as L,I as h,B as p,T as b,A as R,c as M}from"./info-cc8e7551.js";import{Q as S}from"./query-keys-652ea5af.js";import{u as A,a as C,E as D}from"./employee-29038730.js";const I=()=>{const{employee:e,isLoading:t}=A(),o=v.useMemo(()=>[{title:"nombre",value:e==null?void 0:e.name},{title:"apellido",value:e==null?void 0:e.lastName},{title:"identificacion",value:e==null?void 0:e.identification},{title:"correo electronico",value:e==null?void 0:e.email},{title:"empresa",value:e==null?void 0:e.company.name},{title:"cargo",value:e==null?void 0:e.roleEmployee.name},{title:"direccion",value:(e==null?void 0:e.address)||""}],[e]);return s.jsx(L,{title:"Informacion sobre el empleado",children:t?s.jsx(c,{}):s.jsx(h,{data:o})})},r=M();function Y(){const{employees:e,isLoading:t}=C(),{idRemove:o,closeAlert:u,user:i}=x(a=>a),d=g(),l=p.includes((i==null?void 0:i.role)||""),{mutate:m,isLoading:f}=j(()=>D.deleteEmployee(o),{onSuccess:()=>{u(),d.invalidateQueries([S.EMPLOYEE]),n("Empleado eliminado de forma exitosa",null)},onError:a=>{n(`opps! algo no va bien ${a}`,"error")}}),E=[r.accessor("name",{header:()=>"Nombre",cell:a=>`${a.getValue()}`,footer:a=>a.column.id}),r.accessor("email",{header:()=>"Email",cell:a=>a.getValue(),footer:a=>a.column.id}),r.accessor("identification",{header:()=>"Identificacion",cell:a=>a.getValue(),footer:a=>a.column.id})];return t||f?s.jsx(c,{}):s.jsxs("div",{className:"",children:[s.jsx(b,{columns:E,data:(e==null?void 0:e.results)||[],showDelete:!l,showUpdate:!l}),s.jsx(I,{}),s.jsx(R,{handleRemove:m})]})}export{Y as default};
