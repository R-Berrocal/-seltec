import{u as g,k as v,l as V,j as o,e as A,m as c}from"./index-dea8633d.js";import{T as x,c as S}from"./table-4dff001c.js";import{B as E,A as L}from"./block_role-a75dee36.js";import{Q as j}from"./query-keys-9f424c63.js";import{u as y,A as R}from"./assigned-vehicle-c06f09ab.js";const s=S();function T(){const{assigneds:a,isLoading:n}=y(),{idRemove:u,closeAlert:d,user:r}=g(e=>e),m=v(),l=E.includes((r==null?void 0:r.role)||""),{mutate:p,isLoading:h}=V(()=>R.deleteAssignedVehicle(u),{onSuccess:()=>{d(),m.invalidateQueries([j.ASSIGNED]),c("operacion realizada de forma exitosa",null)},onError:e=>{c(`opps! algo no va bien ${e}`,"error")}}),f=[s.accessor("operationType",{header:()=>"Operacion",cell:e=>e.getValue(),footer:e=>e.column.id}),s.accessor("daysService",{header:()=>"Dias de servicios",cell:e=>e.getValue(),footer:e=>e.column.id}),s.accessor("employee",{header:()=>"Empleado",cell:e=>{var t,i;return`${(t=e.getValue())==null?void 0:t.name} ${(i=e.getValue())==null?void 0:i.lastName}`},footer:e=>e.column.id}),s.accessor("vehicle.model",{header:()=>"Vehiculo",cell:e=>e.getValue(),footer:e=>e.column.id})];return n||h?o.jsx(A,{}):o.jsxs("div",{children:[o.jsx(x,{columns:f,data:(a==null?void 0:a.results)||[],showDelete:!l,showUpdate:!l}),o.jsx(L,{handleRemove:p})]})}export{T as default};
