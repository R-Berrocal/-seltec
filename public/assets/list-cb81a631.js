import{m as i,c as f,n as g,p as Y,j as o,L as h,Q as v,q as c,aa as O}from"./index-d0930347.js";import{T as b,c as x}from"./table-822d250b.js";import{A as L}from"./alert-f35b79f8.js";import{B as j}from"./block_role-b3da2c39.js";import{u as D}from"./observation-dfb02177.js";import"./useQuery-90db40b4.js";const a=x(),E=[a.accessor("employee.name",{header:()=>"Empleado",cell:e=>e.getValue(),footer:e=>e.column.id}),a.accessor("observation",{header:()=>"Observacion",cell:e=>e.getValue(),footer:e=>e.column.id}),a.accessor("initDate",{header:()=>"Fecha de ingreso",cell:e=>i(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id}),a.accessor("endDate",{header:()=>"Fecha de salida",cell:e=>i(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id})];function Q(){const{observations:e,isLoading:n}=D(),{id:l,closeAlert:u,user:s}=f(t=>t),d=g(),r=j.includes((s==null?void 0:s.role)||""),{mutate:m,isLoading:p}=Y(()=>O.deleteObservation(l),{onSuccess:()=>{u(),d.invalidateQueries([v.OBSERVATION]),c("Observacion eliminada de forma exitosa",null)},onError:t=>{c(`opps! algo no va bien ${t}`,"error")}});return n||p?o.jsx(h,{}):o.jsxs("div",{children:[o.jsx(b,{total:(e==null?void 0:e.count)||0,columns:E,data:(e==null?void 0:e.results)||[],showDelete:!r,showUpdate:!r}),o.jsx(L,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{Q as default};
