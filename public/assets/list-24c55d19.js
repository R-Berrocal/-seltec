import{r as x,j as t,e as c,u as V,k as j,l as g,m as u}from"./index-3bd54e17.js";import{T as L,c as E}from"./table-c4555493.js";import{D as R,B as y,A as D}from"./block_role-c3fdb52e.js";import{I as M}from"./info-7161dd75.js";import{u as C,a as S,V as h}from"./vehicle-2cda006d.js";import{Q as A}from"./query-keys-f3f28151.js";const I=()=>{const{vechile:e,isLoading:s}=C(),l=x.useMemo(()=>{var a;return[{title:"placa",value:e==null?void 0:e.plate},{title:"tipo",value:e==null?void 0:e.type},{title:"Modelo",value:e==null?void 0:e.model},{title:"Placa De Remolque",value:e==null?void 0:e.trailerPlate},{title:"Dueño",value:e==null?void 0:e.owner},{title:"empresa",value:(a=e==null?void 0:e.company)==null?void 0:a.name}]},[e]);return t.jsx(R,{title:"Información del vehiculo",children:s?t.jsx(c,{}):t.jsx(M,{data:l})})},i=E();function U(){const{vehicles:e,isLoading:s}=S(),{idRemove:l,closeAlert:a,user:r}=V(o=>o),m=j(),n=y.includes((r==null?void 0:r.role)||""),{mutate:d,isLoading:p}=g(()=>h.deleteVehicle(l),{onSuccess:()=>{a(),m.invalidateQueries([A.VEHICLE]),u("Vehiculo eliminado de forma exitosa",null)},onError:o=>{u(`opps! algo no va bien ${o}`,"error")}}),f=[i.accessor("plate",{header:()=>"Placa",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("type",{header:()=>"Tipo",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("model",{header:()=>"Modelo",cell:o=>o.getValue(),footer:o=>o.column.id})];return s||p?t.jsx(c,{}):t.jsxs("div",{children:[t.jsx(L,{data:(e==null?void 0:e.results)||[],columns:f,showDelete:!n,showUpdate:!n}),t.jsx(I,{}),t.jsx(D,{handleRemove:d})]})}export{U as default};
