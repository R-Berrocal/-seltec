import{r as R,j as a,e as l,u as p,k as x,l as v,m as c}from"./index-4f0194d7.js";import{D as L,I as h,T as j,A,c as E}from"./info-9a838d04.js";import{Q as S}from"./query-keys-2b4b518a.js";import{a as C}from"./block_role-b3da2c39.js";import{a as b,u as D,R as M}from"./role-e50b9a92.js";const I=()=>{const{role:e,isLoading:t}=b(),s=R.useMemo(()=>[{title:"id",value:e==null?void 0:e.id},{title:"cargo",value:e==null?void 0:e.name},{title:"fecha de creacion",value:new Date(e==null?void 0:e.createdAt).toLocaleString()},{title:"fecha de actulizacion",value:new Date(e==null?void 0:e.updatedAt).toLocaleString()}],[e]);return a.jsx(L,{title:"Informacion sobre el cargo",children:t?a.jsx(l,{}):a.jsx(h,{data:s})})},i=E(),V=()=>{const{roles:e,isLoading:t}=D(),{idRemove:s,closeAlert:n,user:r}=p(o=>o),u=x(),d=C.includes((r==null?void 0:r.role)||""),{mutate:m,isLoading:f}=v(()=>M.deleteRole(s),{onSuccess:()=>{n(),u.invalidateQueries([S.ROLE]),c("Cargo eliminado de forma exitosa",null)},onError:o=>{c(`opps! algo no va bien ${o}`,"error")}}),g=[i.accessor("id",{header:()=>"Id",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("name",{header:()=>"Nombre",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("createdAt",{header:()=>"Fecha de creacion",cell:o=>o.getValue(),footer:o=>o.column.id})];return t||f?a.jsx(l,{}):a.jsxs("div",{children:[a.jsx(j,{data:(e==null?void 0:e.results)||[],columns:g,showActions:!d}),a.jsx(A,{handleRemove:m}),a.jsx(I,{})]})};export{V as default};
