import{r as x,j as t,e as n,u as v,k as h,l as j,m as l}from"./index-4f0194d7.js";import{D as G,I as L,T as A,A as R,c as S}from"./info-9a838d04.js";import{Q as C}from"./query-keys-2b4b518a.js";import{a as E}from"./block_role-b3da2c39.js";import{a as b,u as g,G as D}from"./group-3c67903e.js";const M=()=>{const{group:e,isLoading:a}=b(),s=x.useMemo(()=>[{title:"id",value:e==null?void 0:e.id},{title:"nombre",value:e==null?void 0:e.name},{title:"fecha de creacion",value:new Date(e==null?void 0:e.createdAt).toLocaleString()},{title:"fecha de actulizacion",value:new Date(e==null?void 0:e.updatedAt).toLocaleString()}],[e]);return t.jsx(G,{title:"Informacion sobre el grupo",children:a?t.jsx(n,{}):t.jsx(L,{data:s})})},i=S(),P=()=>{const{groups:e,isLoading:a}=g(),{idRemove:s,closeAlert:c,user:r}=v(o=>o),u=h(),d=E.includes((r==null?void 0:r.role)||""),{mutate:m,isLoading:f}=j(()=>D.deleteGroup(s),{onSuccess:()=>{c(),u.invalidateQueries([C.GROUP]),l("Grupo eliminado de forma exitosa",null)},onError:o=>{l(`opps! algo no va bien ${o}`,"error")}}),p=[i.accessor("id",{header:()=>"Id",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("name",{header:()=>"Cargo",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("createdAt",{header:()=>"Fecha de creacion",cell:o=>o.getValue(),footer:o=>o.column.id})];return a||f?t.jsx(n,{}):t.jsxs("div",{children:[t.jsx(A,{data:(e==null?void 0:e.results)||[],columns:p,showActions:!d}),t.jsx(R,{handleRemove:m}),t.jsx(M,{})]})};export{P as default};
