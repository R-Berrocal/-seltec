import{u as p,k as g,l as v,j as s,a as x,e as U,m as t}from"./index-a20a86ba.js";import{T as h,c as E}from"./table-4d488073.js";import{a as R,A as j}from"./block_role-cb526c06.js";import{Q as L}from"./query-keys-94b21177.js";import{u as C,U as S}from"./user-89278ab7.js";const o=E();function Q(){const{users:a,isLoading:l}=C(),{idRemove:i,closeAlert:c,user:r}=p(e=>e),n=g(),u=R.includes((r==null?void 0:r.role)||""),{mutate:m,isLoading:d}=v(()=>S.deleteUser(i),{onSuccess:()=>{c(),n.invalidateQueries([L.USER]),t("User eliminado de forma exitosa",null)},onError:e=>{t(`opps! algo no va bien ${e}`,"error")}}),f=[o.accessor("full_name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),o.accessor("email",{header:()=>"Email",cell:e=>e.getValue(),footer:e=>e.column.id}),o.accessor("role",{header:()=>"Rol",cell:e=>e.getValue(),footer:e=>e.column.id}),o.accessor("is_deleted",{header:()=>"Estado",cell:e=>s.jsx(x.Chip,{className:"text-center",size:"sm",color:e.getValue()?"red":"green",value:e.getValue()?"Inactivo":"Activo"}),footer:e=>e.column.id})];return l||d?s.jsx(U,{}):s.jsxs("div",{className:"",children:[s.jsx(h,{data:(a==null?void 0:a.results)||[],columns:f,showDelete:!1,showUpdate:!u}),s.jsx(j,{handleRemove:m})]})}export{Q as default};
