import{b as p,n as f,p as V,j as o,L as h,Q as L,q as i}from"./index-d3a1a1dc.js";import{T as g,c as x}from"./table-00201c6d.js";import{A as E}from"./alert-d0d3a546.js";import{B as j}from"./block_role-b3da2c39.js";import{u as S,V as b}from"./vehicle-dc1edebc.js";import"./useQuery-de5810bc.js";const r=x(),C=[r.accessor("plate",{header:()=>"Placa",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("type",{header:()=>"Tipo",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("model",{header:()=>"Modelo",cell:e=>e.getValue(),footer:e=>e.column.id})];function M(){const{vehicles:e,isLoading:l}=S(),{id:c,closeAlert:n,user:s}=p(a=>a),u=f(),t=j.includes((s==null?void 0:s.role)||""),{mutate:d,isLoading:m}=V(()=>b.deleteVehicle(c),{onSuccess:()=>{n(),u.invalidateQueries([L.VEHICLE]),i("Vehiculo eliminado de forma exitosa",null)},onError:a=>{i(`opps! algo no va bien ${a}`,"error")}});return l||m?o.jsx(h,{}):o.jsxs("div",{children:[o.jsx(g,{total:(e==null?void 0:e.count)||0,data:(e==null?void 0:e.results)||[],columns:C,showActions:!t,showDelete:!t,showUpdate:!t}),o.jsx(E,{acction:d,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{M as default};
