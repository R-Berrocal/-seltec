import{r as l,j as e,l as m,u as E,f as b,i as v,h as c}from"./index-bf873136.js";import{D as p,I as w,A as d,T as r,a as A}from"./info-6378c5c4.js";import{u as g,a as L,E as N}from"./employee-33328148.js";import{Q as M}from"./query-keys-fcccf318.js";import"./ChevronDownIcon-c25a3013.js";const I=()=>{const{employee:i,isLoading:t}=g(),n=l.useMemo(()=>[{title:"nombre",value:i==null?void 0:i.name},{title:"apellido",value:i==null?void 0:i.lastName},{title:"identificacion",value:i==null?void 0:i.identification},{title:"correo electronico",value:i==null?void 0:i.email},{title:"empresa",value:i==null?void 0:i.company.name},{title:"rol",value:i==null?void 0:i.roleEmployee.name},{title:"direccion",value:(i==null?void 0:i.address)||""}],[i]);return e.jsx(p,{title:"Informacion sobre el empleado",children:t?e.jsx(m,{}):e.jsxs(w,{data:n,children:[e.jsx(d,{position:1,title:"Grupos",body:e.jsx("section",{className:"",children:e.jsx(r,{heads:["id","nombre","fecha",""],rows:(i==null?void 0:i.groups.map(o=>({none:o.id,id:o.id,nombre:o.name,fecha:o.createdAt})))||[],showFooter:!1,showHeader:!1})})}),e.jsx(d,{position:2,title:"Autos",body:e.jsx("section",{className:"",children:e.jsx(r,{heads:["operacion","dias de servicio","nombre","dueÃ±o",""],rows:(i==null?void 0:i.assignedVehicles.map(o=>({id:o.id,operacion:o.observations,days:o.daysService,nombre:o.vehicle.model,owner:o.vehicle.owner})))||[],showFooter:!1,showHeader:!1})})})]})})};function F(){const{employees:i,isLoading:t}=L(),{idRemove:n,closeAlert:o}=E(a=>a),f=b(),{mutate:u,isLoading:h}=v(()=>N.deleteEmployee(n),{onSuccess:()=>{o(),f.invalidateQueries([M.EMPLOYEE]),c("Empleado eliminado de forma exitosa",null)},onError:a=>{c(`opps! algo no va bien ${a}`,"error")}}),x=l.useMemo(()=>{var a;return((a=i==null?void 0:i.results)==null?void 0:a.map(s=>({id:s.id,fullName:`${s==null?void 0:s.name} ${(s==null?void 0:s.lastName)||""}`,email:s.email,identification:s.identification,date:s.createdAt})))||[]},[i]),j=["Nombre","Correo","Identificacion","Fecha de creacion","Acciones"];return t||h?e.jsx(m,{}):e.jsxs("div",{className:"",children:[e.jsx(r,{heads:j,rows:x||[]}),e.jsx(I,{}),e.jsx(A,{handleRemove:u})]})}export{F as default};
