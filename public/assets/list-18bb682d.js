import{r as x,j as o,e as u,u as C,k as g,l as b,m as n}from"./index-602d4f83.js";import{D as j,I as h,a as p,T as E,A as L,c as A}from"./info-cc8e7551.js";import{b as M,a as N,C as R}from"./company-6e67770f.js";import{Q as S}from"./query-keys-652ea5af.js";const D=()=>{const{company:e,isLoading:t}=M(),a=x.useMemo(()=>[{title:"nombre",value:e==null?void 0:e.name},{title:"nombre legal",value:e==null?void 0:e.legalName},{title:"correo electronico",value:e==null?void 0:e.email},{title:"dirección",value:(e==null?void 0:e.address)||""},{title:"teléfono",value:(e==null?void 0:e.phone)||""},{title:"sitio web",value:(e==null?void 0:e.webSite)||""}],[e]);return o.jsx(j,{title:"Información sobre la empresa",children:t?o.jsx(u,{}):o.jsx(h,{data:a})})},r=A();function O(){const{companies:e,isLoading:t}=N(),{idRemove:a,closeAlert:c,user:l}=C(s=>s),d=g(),i=p.includes((l==null?void 0:l.role)||""),{mutate:m,isLoading:f}=b(()=>R.deleteCompany(a),{onSuccess:()=>{c(),d.invalidateQueries([S.COMPANY]),n("Empresa eliminada de forma exitosa",null)},onError:s=>{n(`opps! algo no va bien ${s}`,"error")}}),v=[r.accessor("name",{header:()=>"Nombre",cell:s=>s.getValue(),footer:s=>s.column.id}),r.accessor("address",{header:()=>"Direccion",cell:s=>s.getValue(),footer:s=>s.column.id}),r.accessor("email",{header:()=>"Email",cell:s=>s.getValue(),footer:s=>s.column.id})];return t||f?o.jsx(u,{}):o.jsxs("div",{className:"",children:[o.jsx(E,{data:(e==null?void 0:e.results)||[],columns:v,showDelete:!i,showUpdate:!i}),o.jsx(D,{}),o.jsx(L,{handleRemove:m})]})}export{O as default};
