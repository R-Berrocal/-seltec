import{m as p,b as f,n as g,p as L,j as o,L as R,Q as h,q as i}from"./index-d3a1a1dc.js";import{T as x,c as j}from"./table-00201c6d.js";import{A as Y}from"./alert-d0d3a546.js";import{a as b}from"./block_role-b3da2c39.js";import{u as A,R as C}from"./role-caaa9234.js";import"./useQuery-de5810bc.js";const r=j(),E=[r.accessor("id",{header:()=>"Id",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("createdAt",{header:()=>"Fecha de creacion",cell:e=>p(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id})],w=()=>{const{roles:e,isLoading:c}=A(),{id:n,closeAlert:l,user:s}=f(a=>a),u=g(),t=b.includes((s==null?void 0:s.role)||""),{mutate:d,isLoading:m}=L(()=>C.deleteRole(n),{onSuccess:()=>{l(),u.invalidateQueries([h.ROLE]),i("Cargo eliminado de forma exitosa",null)},onError:a=>{i(`opps! algo no va bien ${a}`,"error")}});return c||m?o.jsx(R,{}):o.jsxs("div",{children:[o.jsx(x,{total:(e==null?void 0:e.count)||0,data:(e==null?void 0:e.results)||[],columns:E,showActions:!t,showDelete:!t,showUpdate:!t}),o.jsx(Y,{acction:d,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})};export{w as default};
