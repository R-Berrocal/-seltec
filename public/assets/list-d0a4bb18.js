import{b as p,n as f,p as C,j as o,L as g,Q as x,q as i}from"./index-d3a1a1dc.js";import{T as L,c as h}from"./table-00201c6d.js";import{A as E}from"./alert-d0d3a546.js";import{a as b}from"./block_role-b3da2c39.js";import{a as j,C as A}from"./company-d061206c.js";import"./useQuery-de5810bc.js";const r=h(),S=[r.accessor("name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("address",{header:()=>"Direccion",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("email",{header:()=>"Email",cell:e=>e.getValue(),footer:e=>e.column.id})];function q(){const{companies:e,isLoading:n}=j(),{id:l,closeAlert:c,user:s}=p(t=>t),u=f(),a=b.includes((s==null?void 0:s.role)||""),{mutate:m,isLoading:d}=C(()=>A.deleteCompany(l),{onSuccess:()=>{c(),u.invalidateQueries([x.COMPANY]),i("Empresa eliminada de forma exitosa",null)},onError:t=>{i(`opps! algo no va bien ${t}`,"error")}});return n||d?o.jsx(g,{}):o.jsxs("div",{className:"",children:[o.jsx(L,{total:(e==null?void 0:e.count)||0,data:(e==null?void 0:e.results)||[],columns:S,showActions:!a,showDelete:!a,showUpdate:!a}),o.jsx(E,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{q as default};
