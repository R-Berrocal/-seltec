import{b as f,n as C,p as x,j as s,L as g,T as r,q as j,Q as L,t as i}from"./index-00a53ffa.js";import{A as E}from"./alert-cd0f6524.js";import{B as b}from"./block_role-55ad1a6d.js";import{a as h,C as v}from"./company-fc6617e9.js";import"./useQuery-400e87ec.js";const t=j(),y=[t.accessor("name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("address",{header:()=>"Direccion",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("email",{header:()=>"Email",cell:e=>e.getValue(),footer:e=>e.column.id})];function R(){const{companies:e,isLoading:n}=h(),{id:c,closeAlert:l,user:o}=f(a=>a),u=C(),d=b.includes((o==null?void 0:o.role)||""),{mutate:m,isLoading:p}=x(()=>v.deleteCompany(c),{onSuccess:()=>{l(),u.invalidateQueries([L.COMPANY]),i("Empresa eliminada de forma exitosa",null)},onError:a=>{i(`opps! algo no va bien ${a}`,"error")}});return n||p?s.jsx(g,{}):s.jsxs("div",{className:"relative",children:[s.jsxs(r,{data:(e==null?void 0:e.results)||[],columns:y,showActions:!d,children:[s.jsx(r.RowHeader,{}),s.jsx(r.Body,{})]}),s.jsx(E,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{R as default};
