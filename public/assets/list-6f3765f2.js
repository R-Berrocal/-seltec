import{r as R,j as o,e as n,u as p,k as x,l as h,m as c}from"./index-602d4f83.js";import{D as v,I as L,a as j,T as A,A as E,c as S}from"./info-cc8e7551.js";import{Q as C}from"./query-keys-652ea5af.js";import{a as D,u as b,R as M}from"./role-c5682681.js";const w=()=>{const{role:e,isLoading:t}=D(),s=R.useMemo(()=>[{title:"id",value:e==null?void 0:e.id},{title:"cargo",value:e==null?void 0:e.name},{title:"fecha de creacion",value:new Date(e==null?void 0:e.createdAt).toLocaleString()},{title:"fecha de actulizacion",value:new Date(e==null?void 0:e.updatedAt).toLocaleString()}],[e]);return o.jsx(v,{title:"Informacion sobre el cargo",children:t?o.jsx(n,{}):o.jsx(L,{data:s})})},i=S(),O=()=>{const{roles:e,isLoading:t}=b(),{idRemove:s,closeAlert:u,user:r}=p(a=>a),d=x(),l=j.includes((r==null?void 0:r.role)||""),{mutate:m,isLoading:f}=h(()=>M.deleteRole(s),{onSuccess:()=>{u(),d.invalidateQueries([C.ROLE]),c("Cargo eliminado de forma exitosa",null)},onError:a=>{c(`opps! algo no va bien ${a}`,"error")}}),g=[i.accessor("id",{header:()=>"Id",cell:a=>a.getValue(),footer:a=>a.column.id}),i.accessor("name",{header:()=>"Nombre",cell:a=>a.getValue(),footer:a=>a.column.id}),i.accessor("createdAt",{header:()=>"Fecha de creacion",cell:a=>a.getValue(),footer:a=>a.column.id})];return t||f?o.jsx(n,{}):o.jsxs("div",{children:[o.jsx(A,{data:(e==null?void 0:e.results)||[],columns:g,showDelete:!l,showUpdate:!l}),o.jsx(E,{handleRemove:m}),o.jsx(w,{})]})};export{O as default};
