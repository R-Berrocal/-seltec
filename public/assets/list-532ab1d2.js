import{c as p,n as f,p as C,j as o,L as g,Q as x,q as i}from"./index-d0930347.js";import{T as L,c as E}from"./table-822d250b.js";import{A as h}from"./alert-f35b79f8.js";import{a as j}from"./block_role-b3da2c39.js";import{a as S,C as b}from"./company-efc6b59d.js";import"./useQuery-90db40b4.js";const t=E(),v=[t.accessor("name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("address",{header:()=>"Direccion",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("email",{header:()=>"Email",cell:e=>e.getValue(),footer:e=>e.column.id})];function q(){const{companies:e,isLoading:n}=S(),{id:l,closeAlert:c,user:s}=p(a=>a),u=f(),r=j.includes((s==null?void 0:s.role)||""),{mutate:m,isLoading:d}=C(()=>b.deleteCompany(l),{onSuccess:()=>{c(),u.invalidateQueries([x.COMPANY]),i("Empresa eliminada de forma exitosa",null)},onError:a=>{i(`opps! algo no va bien ${a}`,"error")}});return n||d?o.jsx(g,{}):o.jsxs("div",{className:"",children:[o.jsx(L,{total:(e==null?void 0:e.count)||0,data:(e==null?void 0:e.results)||[],columns:v,showDelete:!r,showUpdate:!r}),o.jsx(h,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{q as default};
