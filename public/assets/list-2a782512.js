import{r as m,j as s,l as u,u as b,f as w,i as N,h as n}from"./index-bf873136.js";import{D as g,I as p,A as d,T as r,a as A}from"./info-6378c5c4.js";import{b as C,a as E,C as L}from"./company-78f29cfe.js";import{Q as v}from"./query-keys-fcccf318.js";import"./ChevronDownIcon-c25a3013.js";const M=()=>{const{company:e,isLoading:t}=C(),l=m.useMemo(()=>[{title:"nombre",value:e==null?void 0:e.name},{title:"nombre legal",value:e==null?void 0:e.legalName},{title:"correo electronico",value:e==null?void 0:e.email},{title:"dirección",value:(e==null?void 0:e.address)||""},{title:"teléfono",value:(e==null?void 0:e.phone)||""},{title:"sitio web",value:(e==null?void 0:e.webSite)||""}],[e]);return s.jsx(g,{title:"Información sobre la empresa",children:t?s.jsx(u,{}):s.jsxs(p,{data:l,children:[s.jsx(d,{position:1,title:"Empleados",body:s.jsx("section",{className:"",children:s.jsx(r,{heads:["identificacion","nombre","lastname","email"],rows:(e==null?void 0:e.employees.map(i=>({none:i.id,identificacion:i.identification,nombre:i.name,lastName:i.lastName,email:i.email})))||[],showFooter:!1,showHeader:!1,showActions:!1})})}),s.jsx(d,{position:2,title:"Autos",body:s.jsx("section",{className:"",children:s.jsx(r,{heads:["Placa","Tipo de vehiculo","Modelo","Dueño"],rows:(e==null?void 0:e.vehicles.map(i=>({id:i.id,placa:i.plate,type:i.type,modelo:i.model,owner:i.owner})))||[],showFooter:!1,showHeader:!1,showActions:!1})})})]})})};function P(){const{companies:e,isLoading:t}=E(),{idRemove:l,closeAlert:i}=b(o=>o),c=w(),{mutate:f,isLoading:h}=N(()=>L.deleteCompany(l),{onSuccess:()=>{i(),c.invalidateQueries([v.COMPANY]),n("Empresa eliminada de forma exitosa",null)},onError:o=>{n(`opps! algo no va bien ${o}`,"error")}}),x=m.useMemo(()=>{var o;return((o=e==null?void 0:e.results)==null?void 0:o.map(a=>({id:a.id,name:a.name,leagalName:a.legalName,address:a.address,email:a.email})))||[]},[e]),j=["Nombre","Nombre Legal","Dirección","Email","Acciones"];return t||h?s.jsx(u,{}):s.jsxs("div",{className:"",children:[s.jsx(r,{heads:j,rows:x||[]}),s.jsx(M,{}),s.jsx(A,{handleRemove:f})]})}export{P as default};
