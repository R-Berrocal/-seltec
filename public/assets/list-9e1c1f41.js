import{r as v,j as o,e as c,u as x,k as g,l as h,m as n}from"./index-4f0194d7.js";import{D as j,I as p,T as L,A as b,c as A}from"./info-9a838d04.js";import{Q as R}from"./query-keys-2b4b518a.js";import{B as M}from"./block_role-b3da2c39.js";import{u as S,a as C,E as D}from"./employee-30d30d0f.js";const I=()=>{const{employee:e,isLoading:s}=S(),i=v.useMemo(()=>[{title:"nombre",value:e==null?void 0:e.name},{title:"apellido",value:e==null?void 0:e.lastName},{title:"identificacion",value:e==null?void 0:e.identification},{title:"correo electronico",value:e==null?void 0:e.email},{title:"empresa",value:e==null?void 0:e.company.name},{title:"cargo",value:e==null?void 0:e.roleEmployee.name},{title:"direccion",value:(e==null?void 0:e.address)||""}],[e]);return o.jsx(j,{title:"Informacion sobre el empleado",children:s?o.jsx(c,{}):o.jsx(p,{data:i})})},t=A();function Y(){const{employees:e,isLoading:s}=C(),{idRemove:i,closeAlert:u,user:r}=x(a=>a),d=g(),l=M.includes((r==null?void 0:r.role)||""),{mutate:m,isLoading:f}=h(()=>D.deleteEmployee(i),{onSuccess:()=>{u(),d.invalidateQueries([R.EMPLOYEE]),n("Empleado eliminado de forma exitosa",null)},onError:a=>{n(`opps! algo no va bien ${a}`,"error")}}),E=[t.accessor("name",{header:()=>"Nombre",cell:a=>`${a.getValue()}`,footer:a=>a.column.id}),t.accessor("email",{header:()=>"Email",cell:a=>a.getValue(),footer:a=>a.column.id}),t.accessor("identification",{header:()=>"Identificacion",cell:a=>a.getValue(),footer:a=>a.column.id}),t.accessor("createdAt",{header:()=>"Fecha de creacion",cell:a=>a.getValue(),footer:a=>a.column.id})];return s||f?o.jsx(c,{}):o.jsxs("div",{className:"",children:[o.jsx(L,{columns:E,data:(e==null?void 0:e.results)||[],showActions:!l,showDelete:!l,showUpdate:!l}),o.jsx(I,{}),o.jsx(b,{handleRemove:m})]})}export{Y as default};
