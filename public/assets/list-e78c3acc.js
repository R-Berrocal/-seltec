import{r as h,j as l,e as n,u as f,k as x,l as V,m as c}from"./index-602d4f83.js";import{D as A,I as j,B as y,T as E,A as S,c as L}from"./info-cc8e7551.js";import{Q as D}from"./query-keys-652ea5af.js";import{u as g,a as R,A as b}from"./assigned-vehicle-3d4cff58.js";const T=()=>{const{assigned:e,isLoading:s}=g(),t=h.useMemo(()=>[{title:"Dias de servicio",value:e==null?void 0:e.daysService},{title:"Observacion",value:e==null?void 0:e.observations},{title:"Tipo de operacion",value:e==null?void 0:e.operationType},{title:"Vehiculo",value:e==null?void 0:e.vehicle.model},{title:"Empleado",value:`${e==null?void 0:e.employee.name} ${e==null?void 0:e.employee.lastName}`}],[e]);return l.jsx(A,{title:"InformaciÃ³n de la assignacion",children:s?l.jsx(n,{}):l.jsx(j,{data:t})})},a=L();function N(){const{assigneds:e,isLoading:s}=R(),{idRemove:t,closeAlert:u,user:i}=f(o=>o),m=x(),r=y.includes((i==null?void 0:i.role)||""),{mutate:d,isLoading:p}=V(()=>b.deleteAssignedVehicle(t),{onSuccess:()=>{u(),m.invalidateQueries([D.ASSIGNED]),c("operacion realizada de forma exitosa",null)},onError:o=>{c(`opps! algo no va bien ${o}`,"error")}}),v=[a.accessor("operationType",{header:()=>"Operacion",cell:o=>o.getValue(),footer:o=>o.column.id}),a.accessor("daysService",{header:()=>"Dias de servicios",cell:o=>o.getValue(),footer:o=>o.column.id}),a.accessor("employee",{header:()=>"Empleado",cell:o=>`${o.getValue().name} ${o.getValue().lastName}`,footer:o=>o.column.id}),a.accessor("vehicle.model",{header:()=>"Vehiculo",cell:o=>o.getValue(),footer:o=>o.column.id})];return s||p?l.jsx(n,{}):l.jsxs("div",{children:[l.jsx(E,{columns:v,data:(e==null?void 0:e.results)||[],showDelete:!r,showUpdate:!r}),l.jsx(T,{}),l.jsx(S,{handleRemove:d})]})}export{N as default};
