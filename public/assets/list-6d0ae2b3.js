import{j as s,c as f,b as x,n as g,p as j,L as U,T as t,q as h,Q as v,t as l}from"./index-00a53ffa.js";import{A as E}from"./alert-cd0f6524.js";import{B as L}from"./block_role-55ad1a6d.js";import{u as S,U as b}from"./user-34202a9c.js";import"./useQuery-400e87ec.js";const o=h(),A=[o.accessor("full_name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),o.accessor("email",{header:()=>"Email",cell:e=>e.getValue(),footer:e=>e.column.id}),o.accessor("role",{header:()=>"Rol",cell:e=>e.getValue(),footer:e=>e.column.id}),o.accessor("is_deleted",{header:()=>"Estado",cell:e=>s.jsx(f.Chip,{className:"text-center",size:"sm",color:e.getValue()?"red":"green",value:e.getValue()?"Inactivo":"Activo"}),footer:e=>e.column.id})];function y(){const{users:e,isLoading:i}=S(),{id:c,closeAlert:n,user:a}=x(r=>r),u=g(),d=L.includes((a==null?void 0:a.role)||""),{mutate:m,isLoading:p}=j(()=>b.deleteUser(c),{onSuccess:()=>{n(),u.invalidateQueries([v.USER]),l("User eliminado de forma exitosa",null)},onError:r=>{l(`opps! algo no va bien ${r}`,"error")}});return i||p?s.jsx(U,{}):s.jsxs("div",{className:"",children:[s.jsxs(t,{data:(e==null?void 0:e.results)||[],columns:A,showActions:!d,children:[s.jsx(t.RowHeader,{}),s.jsx(t.Body,{})]}),s.jsx(E,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{y as default};
