import{m as p,b as f,n as x,p as h,j as s,L as j,Q as L,q as i}from"./index-b3d32b80.js";import{T as b,c as v}from"./table-09637b37.js";import{A}from"./alert-1b131d0d.js";import{D as G}from"./download-23f80eb7.js";import{a as Y}from"./block_role-b3da2c39.js";import{u as C,G as D}from"./group-f6f8e9e6.js";import"./useQuery-96cae606.js";const r=v(),M=[r.accessor("id",{header:()=>"Id",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("name",{header:()=>"Cargo",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("createdAt",{header:()=>"Fecha de creacion",cell:e=>p(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id})],Q=()=>{const{groups:e,isLoading:l}=C(),{id:c,closeAlert:n,user:o}=f(t=>t),d=x(),a=Y.includes((o==null?void 0:o.role)||""),{mutate:u,isLoading:m}=h(()=>D.deleteGroup(c),{onSuccess:()=>{n(),d.invalidateQueries([L.GROUP]),i("Grupo eliminado de forma exitosa",null)},onError:t=>{i(`opps! algo no va bien ${t}`,"error")}});return l||m?s.jsx(j,{}):s.jsxs("div",{className:"relative",children:[(o==null?void 0:o.role)==="ADMIN"&&s.jsx("div",{className:"absolute z-20 right-[210px] -top-12",children:s.jsx(G,{data:(e==null?void 0:e.results)||[],fileName:"bloques"})}),s.jsx(b,{total:(e==null?void 0:e.count)||0,data:(e==null?void 0:e.results)||[],columns:M,showDelete:!a,showUpdate:!a,showActions:!a}),s.jsx(A,{acction:u,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})};export{Q as default};
