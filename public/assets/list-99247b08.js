import{u as f,k as h,l as V,j as o,e as x,m as r}from"./index-a20a86ba.js";import{T as L,c as g}from"./table-4d488073.js";import{B as E,A as j}from"./block_role-cb526c06.js";import{Q as v}from"./query-keys-94b21177.js";import{u as R,V as C}from"./vehicle-758a2329.js";const a=g();function H(){const{vehicles:s,isLoading:i}=R(),{idRemove:c,closeAlert:n,user:t}=f(e=>e),u=h(),l=E.includes((t==null?void 0:t.role)||""),{mutate:d,isLoading:m}=V(()=>C.deleteVehicle(c),{onSuccess:()=>{n(),u.invalidateQueries([v.VEHICLE]),r("Vehiculo eliminado de forma exitosa",null)},onError:e=>{r(`opps! algo no va bien ${e}`,"error")}}),p=[a.accessor("plate",{header:()=>"Placa",cell:e=>e.getValue(),footer:e=>e.column.id}),a.accessor("type",{header:()=>"Tipo",cell:e=>e.getValue(),footer:e=>e.column.id}),a.accessor("model",{header:()=>"Modelo",cell:e=>e.getValue(),footer:e=>e.column.id})];return i||m?o.jsx(x,{}):o.jsxs("div",{children:[o.jsx(L,{data:(s==null?void 0:s.results)||[],columns:p,showDelete:!l,showUpdate:!l}),o.jsx(j,{handleRemove:d})]})}export{H as default};
