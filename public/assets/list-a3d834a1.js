import{m as p,b as f,n as x,p as g,j as a,L as h,Q as j,q as i}from"./index-e9c0a00a.js";import{T as L,c as R}from"./table-fd10b765.js";import{A as b}from"./alert-ae0aa934.js";import{D as v}from"./download-74975c31.js";import{a as A}from"./block_role-b3da2c39.js";import{u as N,R as Y}from"./role-da37462e.js";import"./useQuery-e736bbaf.js";const r=R(),C=[r.accessor("id",{header:()=>"Id",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("createdAt",{header:()=>"Fecha de creacion",cell:e=>p(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id})],q=()=>{const{roles:e,isLoading:c}=N(),{id:l,closeAlert:n,user:o}=f(t=>t),d=x(),s=A.includes((o==null?void 0:o.role)||""),{mutate:m,isLoading:u}=g(()=>Y.deleteRole(l),{onSuccess:()=>{n(),d.invalidateQueries([j.ROLE]),i("Cargo eliminado de forma exitosa",null)},onError:t=>{i(`opps! algo no va bien ${t}`,"error")}});return c||u?a.jsx(h,{}):a.jsxs("div",{className:"relative",children:[(o==null?void 0:o.role)==="ADMIN"&&a.jsx("div",{className:"absolute z-20 right-[210px] -top-[74px]",children:a.jsx(v,{data:(e==null?void 0:e.results)||[],fileName:"cargos"})}),a.jsx(L,{total:(e==null?void 0:e.count)||0,data:(e==null?void 0:e.results)||[],columns:C,showActions:!s,showDelete:!s,showUpdate:!s}),a.jsx(b,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})};export{q as default};
