import{z as e,x as p,Q as t,c as y}from"./index-a3a25342.js";import{u as n}from"./useQuery-28d0c69b.js";const c={getcompany:async o=>{try{return(await e.get(`/company/${o}`)).data}catch(r){throw console.error("error",r),r}},getCompanyCount:async()=>{try{const o=await e.get("/company/count-employees"),r=await e.get("/company/count-vehicles"),a=await e.get("/group/count-employees");return await Promise.all([o.data,r.data,a.data])}catch(o){throw console.error("error",o),o}},listcompanies:async()=>{try{return(await e.get("/company?limit=1000")).data}catch(o){throw console.error("error",o),o}},createCompany:async o=>{try{return(await e.post("/company",o)).data}catch(r){throw console.error("error",r),r}},editcompany:async(o,r)=>{try{return(await e.put(`/company/${o}`,r)).data}catch(a){throw console.error("error",a),a}},deleteCompany:async o=>{try{await e.delete(`/company/${o}`)}catch(r){throw console.error("error",r),r}}};function u(){const o=p(),{data:r,isLoading:a}=n([t.COMPANY,o.id],()=>c.getcompany(o.id||""),{enabled:!!o.id});return{company:r,isLoading:a}}function l(){const{user:o}=y(),{data:r,isLoading:a}=n(t.COMPANY,()=>c.listcompanies(),{enabled:(o==null?void 0:o.role)==="ADMIN"||(o==null?void 0:o.role)==="USER"});return{companies:r,isLoading:a}}function d(){const{data:o,isLoading:r}=n([t.COMPANY],()=>c.getCompanyCount());return{employeesCount:o,isLoading:r}}export{c as C,l as a,u as b,d as u};
