import{m as i,b as f,n as g,p as h,j as o,L as Y,Q as b,q as n,aa as v}from"./index-d3a1a1dc.js";import{T as O,c as x}from"./table-00201c6d.js";import{A as L}from"./alert-d0d3a546.js";import{B as j}from"./block_role-b3da2c39.js";import{u as D}from"./observation-19213ea1.js";import"./useQuery-de5810bc.js";const a=x(),E=[a.accessor("employee.name",{header:()=>"Empleado",cell:e=>e.getValue(),footer:e=>e.column.id}),a.accessor("observation",{header:()=>"Observacion",cell:e=>e.getValue(),footer:e=>e.column.id}),a.accessor("initDate",{header:()=>"Fecha de ingreso",cell:e=>i(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id}),a.accessor("endDate",{header:()=>"Fecha de salida",cell:e=>i(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id})];function Q(){const{observations:e,isLoading:c}=D(),{id:l,closeAlert:u,user:s}=f(r=>r),d=g(),t=j.includes((s==null?void 0:s.role)||""),{mutate:m,isLoading:p}=h(()=>v.deleteObservation(l),{onSuccess:()=>{u(),d.invalidateQueries([b.OBSERVATION]),n("Observacion eliminada de forma exitosa",null)},onError:r=>{n(`opps! algo no va bien ${r}`,"error")}});return c||p?o.jsx(Y,{}):o.jsxs("div",{children:[o.jsx(O,{total:(e==null?void 0:e.count)||0,columns:E,data:(e==null?void 0:e.results)||[],showDelete:!t,showUpdate:!t,showActions:!t}),o.jsx(L,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{Q as default};
