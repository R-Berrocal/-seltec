import{b as f,n as x,p as h,j as o,L as j,T as t,q as V,Q as g,t as i}from"./index-147be8e0.js";import{A as L}from"./alert-7f577afc.js";import{D as E}from"./download-06bde357.js";import{B as b}from"./block_role-55ad1a6d.js";import{u as A,V as C}from"./vehicle-cd91d3d1.js";import"./useQuery-2739f2d7.js";const r=V(),N=[r.accessor("plate",{header:()=>"Placa",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("type",{header:()=>"Tipo",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("model",{header:()=>"Modelo",cell:e=>e.getValue(),footer:e=>e.column.id})];function Q(){const{vehicles:e,isLoading:l}=A(),{id:c,closeAlert:n,user:s}=f(a=>a),d=x(),u=b.includes((s==null?void 0:s.role)||""),{mutate:m,isLoading:p}=h(()=>C.deleteVehicle(c),{onSuccess:()=>{n(),d.invalidateQueries([g.VEHICLE]),i("Vehiculo eliminado de forma exitosa",null)},onError:a=>{i(`opps! algo no va bien ${a}`,"error")}});return l||p?o.jsx(j,{}):o.jsxs("div",{className:"relative",children:[(s==null?void 0:s.role)==="ADMIN"&&o.jsx("div",{className:"absolute z-20 right-[210px] -top-12",children:o.jsx(E,{data:(e==null?void 0:e.results)||[],fileName:"vehiculos"})}),o.jsxs(t,{data:(e==null?void 0:e.results)||[],columns:N,showActions:!u,children:[o.jsx(t.RowHeader,{}),o.jsx(t.Body,{})]}),o.jsx(L,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{Q as default};
