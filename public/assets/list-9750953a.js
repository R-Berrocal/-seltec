import{m as L,b as f,n as x,p as j,j as o,L as g,T as r,q as h,Q as A,t as c}from"./index-8bd41d8c.js";import{A as N}from"./alert-48c44e81.js";import{D as b}from"./download-292d2d2f.js";import{B as v}from"./block_role-55ad1a6d.js";import{u as Y,L as C}from"./location-a502f5f3.js";import"./useQuery-d0771aa7.js";const i=h(),M=[i.accessor("id",{header:()=>"Id",cell:e=>e.getValue(),footer:e=>e.column.id}),i.accessor("name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),i.accessor("createdAt",{header:()=>"Fecha de creacion",cell:e=>L(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id})],Q=()=>{const{isLoading:e,locations:s}=Y(),{id:n,closeAlert:l,user:a}=f(t=>t),d=x(),u=v.includes((a==null?void 0:a.role)||""),{mutate:m,isLoading:p}=j(()=>C.deleteLocation(n),{onSuccess:()=>{l(),d.invalidateQueries([A.LOCATION]),c("Locacion eliminado de forma exitosa",null)},onError:t=>{c(`opps! algo no va bien ${t}`,"error")}});return e||p?o.jsx(g,{}):o.jsxs("div",{className:"relative",children:[(a==null?void 0:a.role)==="ADMIN"&&o.jsx("div",{className:"absolute z-20 right-[210px] -top-12",children:o.jsx(b,{data:(s==null?void 0:s.results)||[],fileName:"locaciones"})}),o.jsxs(r,{data:(s==null?void 0:s.results)||[],columns:M,showActions:!u,children:[o.jsx(r.RowHeader,{}),o.jsx(r.Body,{})]}),o.jsx(N,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})};export{Q as default};
