import{r as n,j as t,f as u,u as x,g as j,h as V,i}from"./index-9b3c73aa.js";import{D as L,I as g,T as y,A as E}from"./info-f79cc541.js";import{Q as M}from"./query-keys-9b3b25cc.js";import{u as P,a as R,V as A}from"./vehicle-b6521f45.js";const D=()=>{const{vechile:e,isLoading:r}=P(),l=n.useMemo(()=>{var s;return[{title:"placa",value:e==null?void 0:e.plate},{title:"tipo",value:e==null?void 0:e.type},{title:"Modelo",value:e==null?void 0:e.model},{title:"Placa De Remolque",value:e==null?void 0:e.trailerPlate},{title:"Dueño",value:e==null?void 0:e.owner},{title:"empresa",value:(s=e==null?void 0:e.company)==null?void 0:s.name}]},[e]);return t.jsx(L,{title:"Información del vehiculo",children:r?t.jsx(u,{}):t.jsx(g,{data:l})})};function w(){const{vehicles:e,isLoading:r}=R(),{idRemove:l,closeAlert:s}=x(a=>a),d=j(),{mutate:m,isLoading:p}=V(()=>A.deleteVehicle(l),{onSuccess:()=>{s(),d.invalidateQueries([M.VEHICLE]),i("Vehiculo eliminado de forma exitosa",null)},onError:a=>{i(`opps! algo no va bien ${a}`,"error")}}),c=n.useMemo(()=>{var a;return((a=e==null?void 0:e.results)==null?void 0:a.map(o=>({id:o.id,plate:o.plate,type:o.type,model:o.model,trailerPlate:o.trailerPlate})))||[]},[e]),f=["Placa","Típo","Modelo","Placa de remolque","Acciones"];return r||p?t.jsx(u,{}):t.jsxs("div",{children:[t.jsx(y,{heads:f,rows:c||[]}),t.jsx(D,{}),t.jsx(E,{handleRemove:m})]})}export{w as default};
