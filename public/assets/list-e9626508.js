import{u as x,k as g,l as v,j as s,a as i,e as j,m as u}from"./index-dea8633d.js";import{T as L,c as b}from"./table-4dff001c.js";import{B as C,A as R}from"./block_role-a75dee36.js";import{Q as V}from"./query-keys-9f424c63.js";import{u as y,E as N}from"./employee-c7c12c41.js";const t=b();function M(){const{employees:o,isLoading:d}=y(),{idRemove:m,closeAlert:l,user:r}=x(e=>e),n=g(),c=C.includes((r==null?void 0:r.role)||""),{mutate:p,isLoading:h}=v(()=>N.deleteEmployee(m),{onSuccess:()=>{l(),n.invalidateQueries([V.EMPLOYEE]),u("Empleado eliminado de forma exitosa",null)},onError:e=>{l(),u(`opps! algo no va bien ${e}`,"error")}}),E=[t.accessor("name",{header:()=>"Nombre",cell:e=>`${e.getValue()}`,footer:e=>e.column.id}),t.accessor("identification",{header:()=>"Identificacion",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("observations",{header:()=>"Fecha de ingreso",cell:e=>{var a;return e!=null&&e.getValue()[0]?(a=e==null?void 0:e.getValue()[0])==null?void 0:a.initDate:s.jsx(i.Chip,{color:"red",value:"sin fecha",className:"text-center"})},footer:e=>e.column.id}),t.accessor("observations",{header:()=>"Fecha de salida",cell:e=>{var a;return e!=null&&e.getValue()[0]?(a=e==null?void 0:e.getValue()[0])==null?void 0:a.endDate:s.jsx(i.Chip,{color:"red",value:"sin fecha",className:"text-center"})},footer:e=>e.column.id})];return d||h?s.jsx(j,{}):s.jsxs("div",{className:"",children:[s.jsx(L,{columns:E,data:(o==null?void 0:o.results)||[],showDelete:!c,showUpdate:!c}),s.jsx(R,{handleRemove:p})]})}export{M as default};
