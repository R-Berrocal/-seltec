import{b as h,n as f,p as g,j as o,L as x,T as l,q as A,Q as v,t as c}from"./index-147be8e0.js";import{A as j}from"./alert-7f577afc.js";import{D as V}from"./download-06bde357.js";import{B as S}from"./block_role-55ad1a6d.js";import{u as L,A as N}from"./assigned-vehicle-b9a084e1.js";import"./useQuery-2739f2d7.js";const t=A(),y=[t.accessor("operationType",{header:()=>"Operacion",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("daysService",{header:()=>"Dias de servicios",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("employee",{header:()=>"Empleado",cell:e=>{var a,i;return`${(a=e.getValue())==null?void 0:a.name} ${(i=e.getValue())==null?void 0:i.lastName}`},footer:e=>e.column.id}),t.accessor("vehicle.plate",{header:()=>"Vehiculo - placa",cell:e=>e.getValue(),footer:e=>e.column.id})];function Q(){const{assigneds:e,isLoading:a}=L(),{id:i,closeAlert:n,user:s}=h(r=>r),d=f(),u=S.includes((s==null?void 0:s.role)||""),{mutate:m,isLoading:p}=g(()=>N.deleteAssignedVehicle(i),{onSuccess:()=>{n(),d.invalidateQueries([v.ASSIGNED]),c("operacion realizada de forma exitosa",null)},onError:r=>{c(`opps! algo no va bien ${r}`,"error")}});return a||p?o.jsx(x,{}):o.jsxs("div",{className:"relative",children:[(s==null?void 0:s.role)==="ADMIN"&&o.jsx("div",{className:"absolute z-20 right-[270px] -top-12",children:o.jsx(V,{data:(e==null?void 0:e.results)||[],fileName:"vehiculos-asignados"})}),o.jsxs(l,{data:(e==null?void 0:e.results)||[],columns:y,showActions:!u,children:[o.jsx(l.RowHeader,{}),o.jsx(l.Body,{})]}),o.jsx(j,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{Q as default};
