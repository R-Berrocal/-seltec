import{r as x,j as o,e as u,u as C,k as g,l as p,m as n}from"./index-5c19e2b0.js";import{T as b,c as j}from"./table-d8c39afe.js";import{D as h,a as E,A as L}from"./block_role-1b649fe8.js";import{I as A}from"./info-fe831cc6.js";import{b as M,a as N,C as R}from"./company-3360875d.js";import{Q as S}from"./query-keys-c2ebbff1.js";const D=()=>{const{company:e,isLoading:t}=M(),a=x.useMemo(()=>[{title:"nombre",value:e==null?void 0:e.name},{title:"nombre legal",value:e==null?void 0:e.legalName},{title:"correo electronico",value:e==null?void 0:e.email},{title:"dirección",value:(e==null?void 0:e.address)||""},{title:"teléfono",value:(e==null?void 0:e.phone)||""},{title:"sitio web",value:(e==null?void 0:e.webSite)||""}],[e]);return o.jsx(h,{title:"Información sobre la empresa",children:t?o.jsx(u,{}):o.jsx(A,{data:a})})},l=j();function U(){const{companies:e,isLoading:t}=N(),{idRemove:a,closeAlert:m,user:r}=C(s=>s),c=g(),i=E.includes((r==null?void 0:r.role)||""),{mutate:d,isLoading:f}=p(()=>R.deleteCompany(a),{onSuccess:()=>{m(),c.invalidateQueries([S.COMPANY]),n("Empresa eliminada de forma exitosa",null)},onError:s=>{n(`opps! algo no va bien ${s}`,"error")}}),v=[l.accessor("name",{header:()=>"Nombre",cell:s=>s.getValue(),footer:s=>s.column.id}),l.accessor("address",{header:()=>"Direccion",cell:s=>s.getValue(),footer:s=>s.column.id}),l.accessor("email",{header:()=>"Email",cell:s=>s.getValue(),footer:s=>s.column.id})];return t||f?o.jsx(u,{}):o.jsxs("div",{className:"",children:[o.jsx(b,{data:(e==null?void 0:e.results)||[],columns:v,showDelete:!i,showUpdate:!i}),o.jsx(D,{}),o.jsx(L,{handleRemove:d})]})}export{U as default};
