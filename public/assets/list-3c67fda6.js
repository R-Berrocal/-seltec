import{u as p,k as R,l as g,j as o,e as h,m as l}from"./index-a20a86ba.js";import{T as x,c as L}from"./table-4d488073.js";import{a as v,A as j}from"./block_role-cb526c06.js";import{Q as C}from"./query-keys-94b21177.js";import{u as E,R as A}from"./role-955c1541.js";const t=L(),N=()=>{const{roles:s,isLoading:i}=E(),{idRemove:n,closeAlert:c,user:a}=p(e=>e),u=R(),r=v.includes((a==null?void 0:a.role)||""),{mutate:d,isLoading:m}=g(()=>A.deleteRole(n),{onSuccess:()=>{c(),u.invalidateQueries([C.ROLE]),l("Cargo eliminado de forma exitosa",null)},onError:e=>{l(`opps! algo no va bien ${e}`,"error")}}),f=[t.accessor("id",{header:()=>"Id",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("createdAt",{header:()=>"Fecha de creacion",cell:e=>e.getValue(),footer:e=>e.column.id})];return i||m?o.jsx(h,{}):o.jsxs("div",{children:[o.jsx(x,{data:(s==null?void 0:s.results)||[],columns:f,showDelete:!r,showUpdate:!r}),o.jsx(j,{handleRemove:d})]})};export{N as default};
