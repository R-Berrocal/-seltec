import{m as i,j as s,c as v,b as x,n as g,p as h,L as j,T as t,q as b,Q as Y,t as c,ad as O}from"./index-00a53ffa.js";import{A}from"./alert-cd0f6524.js";import{B as E}from"./block_role-55ad1a6d.js";import{u as L}from"./observation-deb798f0.js";import"./useQuery-400e87ec.js";const a=b(),y=[a.accessor("employee.name",{header:()=>"Empleado",cell:e=>e.getValue(),footer:e=>e.column.id}),a.accessor("observation",{header:()=>"Observacion",cell:e=>e.getValue(),footer:e=>e.column.id}),a.accessor("initDate",{header:()=>"Fecha de ingreso",cell:e=>i(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id}),a.accessor("endDate",{header:()=>"Fecha de salida",cell:e=>i(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id}),a.accessor("isApproved",{header:()=>"Estado",cell:e=>s.jsx("div",{className:"max-w-[100px] flex items-center justify-center mx-auto",children:s.jsx(v.Chip,{className:"text-center",size:"sm",color:e.getValue()?"green":"red",value:e.getValue()?"Aprovado":"No aprovado"})}),footer:e=>e.column.id})];function D(){const{observations:e,isLoading:l}=L(),{id:n,closeAlert:d,user:o}=x(r=>r),u=g(),m=E.includes((o==null?void 0:o.role)||""),{mutate:p,isLoading:f}=h(()=>O.deleteObservation(n),{onSuccess:()=>{d(),u.invalidateQueries([Y.OBSERVATION]),c("Observacion eliminada de forma exitosa",null)},onError:r=>{c(`opps! algo no va bien ${r}`,"error")}});return l||f?s.jsx(j,{}):s.jsxs("div",{className:"relative",children:[s.jsxs(t,{data:(e==null?void 0:e.results)||[],columns:y,showActions:!m,children:[s.jsx(t.RowHeader,{}),s.jsx(t.Body,{})]}),s.jsx(A,{acction:p,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{D as default};
