import{r as f,j as a,e as i,u as g,k as v,l as x,m as r}from"./index-4f0194d7.js";import{D as C,I as b,T as j,A as h,c as p}from"./info-9a838d04.js";import{b as E,a as L,C as N}from"./company-ef6f8468.js";import{Q as A}from"./query-keys-2b4b518a.js";const M=()=>{const{company:e,isLoading:t}=E(),l=f.useMemo(()=>[{title:"nombre",value:e==null?void 0:e.name},{title:"nombre legal",value:e==null?void 0:e.legalName},{title:"correo electronico",value:e==null?void 0:e.email},{title:"dirección",value:(e==null?void 0:e.address)||""},{title:"teléfono",value:(e==null?void 0:e.phone)||""},{title:"sitio web",value:(e==null?void 0:e.webSite)||""}],[e]);return a.jsx(C,{title:"Información sobre la empresa",children:t?a.jsx(i,{}):a.jsx(b,{data:l})})},o=p();function V(){const{companies:e,isLoading:t}=L(),{idRemove:l,closeAlert:n}=g(s=>s),u=v(),{mutate:c,isLoading:m}=x(()=>N.deleteCompany(l),{onSuccess:()=>{n(),u.invalidateQueries([A.COMPANY]),r("Empresa eliminada de forma exitosa",null)},onError:s=>{r(`opps! algo no va bien ${s}`,"error")}}),d=[o.accessor("name",{header:()=>"Nombre",cell:s=>s.getValue(),footer:s=>s.column.id}),o.accessor("legalName",{header:()=>"Nombre legal",cell:s=>s.getValue(),footer:s=>s.column.id}),o.accessor("address",{header:()=>"Direccion",cell:s=>s.getValue(),footer:s=>s.column.id}),o.accessor("email",{header:()=>"Email",cell:s=>s.getValue(),footer:s=>s.column.id})];return t||m?a.jsx(i,{}):a.jsxs("div",{className:"",children:[a.jsx(j,{data:(e==null?void 0:e.results)||[],columns:d}),a.jsx(M,{}),a.jsx(h,{handleRemove:c})]})}export{V as default};
