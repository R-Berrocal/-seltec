import{r as n,j as o,f as u,u as x,g as y,h as A,i as c}from"./index-9b3c73aa.js";import{D as j,I as E,T as S,A as V}from"./info-f79cc541.js";import{Q as L}from"./query-keys-9b3b25cc.js";import{u as D,a as M,A as R}from"./assigned-vehicle-5b45b48a.js";const T=()=>{const{assigned:e,isLoading:s}=D(),a=n.useMemo(()=>[{title:"Dias de servicio",value:e==null?void 0:e.daysService},{title:"Observacion",value:e==null?void 0:e.observations},{title:"Tipo de operacion",value:e==null?void 0:e.operationType},{title:"Vehiculo",value:e==null?void 0:e.vehicle.model},{title:"Empleado",value:`${e==null?void 0:e.employee.name} ${e==null?void 0:e.employee.lastName}`}],[e]);return o.jsx(j,{title:"InformaciÃ³n de la assignacion",children:s?o.jsx(u,{}):o.jsx(E,{data:a})})};function Q(){const{assigneds:e,isLoading:s}=M(),{idRemove:a,closeAlert:m}=x(i=>i),p=y(),{mutate:v,isLoading:d}=A(()=>R.deleteAssignedVehicle(a),{onSuccess:()=>{m(),p.invalidateQueries([L.ASSIGNED]),c("operacion realizada de forma exitosa",null)},onError:i=>{c(`opps! algo no va bien ${i}`,"error")}});console.log(e);const h=n.useMemo(()=>{var i;return((i=e==null?void 0:e.results)==null?void 0:i.map(t=>{var l,r;return{id:t.id,operations:t.operationType,days:t.daysService,employee:`${((l=t.employee)==null?void 0:l.name)||""} ${((r=t.employee)==null?void 0:r.lastName)||""}`,vehicle:t.vehicle.model}}))||[]},[e]),f=["Operacion","Dias de servicio","Empleado","Vehiculo","Acciones"];return s||d?o.jsx(u,{}):o.jsxs("div",{children:[o.jsx(S,{heads:f,rows:h||[]}),o.jsx(T,{}),o.jsx(V,{handleRemove:v})]})}export{Q as default};
