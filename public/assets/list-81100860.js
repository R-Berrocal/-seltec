import{c as p,n as h,p as f,j as a,L as g,Q as A,q as l}from"./index-2d95d8aa.js";import{T as V,c as S}from"./table-51f06c16.js";import{A as v}from"./alert-f3c93674.js";import{B as x}from"./block_role-b3da2c39.js";import{u as L,A as E}from"./assigned-vehicle-22992cd2.js";import"./useQuery-9ab57199.js";const t=S(),j=[t.accessor("operationType",{header:()=>"Operacion",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("daysService",{header:()=>"Dias de servicios",cell:e=>e.getValue(),footer:e=>e.column.id}),t.accessor("employee",{header:()=>"Empleado",cell:e=>{var o,s;return`${(o=e.getValue())==null?void 0:o.name} ${(s=e.getValue())==null?void 0:s.lastName}`},footer:e=>e.column.id}),t.accessor("vehicle.plate",{header:()=>"Vehiculo - placa",cell:e=>e.getValue(),footer:e=>e.column.id})];function D(){const{assigneds:e,isLoading:o}=L(),{id:s,closeAlert:n,user:r}=p(c=>c),u=h(),i=x.includes((r==null?void 0:r.role)||""),{mutate:d,isLoading:m}=f(()=>E.deleteAssignedVehicle(s),{onSuccess:()=>{n(),u.invalidateQueries([A.ASSIGNED]),l("operacion realizada de forma exitosa",null)},onError:c=>{l(`opps! algo no va bien ${c}`,"error")}});return o||m?a.jsx(g,{}):a.jsxs("div",{children:[a.jsx(V,{total:(e==null?void 0:e.count)||0,columns:j,data:(e==null?void 0:e.results)||[],showActions:!i,showDelete:!i,showUpdate:!i}),a.jsx(v,{acction:d,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{D as default};
