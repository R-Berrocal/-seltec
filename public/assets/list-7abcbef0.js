import{r as x,j as t,e as c,u as h,k as v,l as j,m as n}from"./index-602d4f83.js";import{D as G,I as L,a as A,T as R,A as S,c as C}from"./info-cc8e7551.js";import{Q as D}from"./query-keys-652ea5af.js";import{a as E,u as b,G as g}from"./group-3b878c42.js";const M=()=>{const{group:e,isLoading:a}=E(),s=x.useMemo(()=>[{title:"id",value:e==null?void 0:e.id},{title:"nombre",value:e==null?void 0:e.name},{title:"fecha de creacion",value:new Date(e==null?void 0:e.createdAt).toLocaleString()},{title:"fecha de actulizacion",value:new Date(e==null?void 0:e.updatedAt).toLocaleString()}],[e]);return t.jsx(G,{title:"Informacion sobre el grupo",children:a?t.jsx(c,{}):t.jsx(L,{data:s})})},l=C(),y=()=>{const{groups:e,isLoading:a}=b(),{idRemove:s,closeAlert:u,user:r}=h(o=>o),d=v(),i=A.includes((r==null?void 0:r.role)||""),{mutate:m,isLoading:f}=j(()=>g.deleteGroup(s),{onSuccess:()=>{u(),d.invalidateQueries([D.GROUP]),n("Grupo eliminado de forma exitosa",null)},onError:o=>{n(`opps! algo no va bien ${o}`,"error")}}),p=[l.accessor("id",{header:()=>"Id",cell:o=>o.getValue(),footer:o=>o.column.id}),l.accessor("name",{header:()=>"Cargo",cell:o=>o.getValue(),footer:o=>o.column.id}),l.accessor("createdAt",{header:()=>"Fecha de creacion",cell:o=>o.getValue(),footer:o=>o.column.id})];return a||f?t.jsx(c,{}):t.jsxs("div",{children:[t.jsx(R,{data:(e==null?void 0:e.results)||[],columns:p,showDelete:!i,showUpdate:!i}),t.jsx(S,{handleRemove:m}),t.jsx(M,{})]})};export{y as default};
