import{u as h,k as E,l as v,j as o,a as l,e as x,m as n}from"./index-a20a86ba.js";import{T as g,c as b}from"./table-4d488073.js";import{B as j,A as L}from"./block_role-cb526c06.js";import{Q as C}from"./query-keys-94b21177.js";import{u as R,E as V}from"./employee-771dc1c5.js";const s=b();function U(){const{employees:a,isLoading:c}=R(),{idRemove:d,closeAlert:r,user:t}=h(e=>e),u=E(),i=j.includes((t==null?void 0:t.role)||""),{mutate:m,isLoading:p}=v(()=>V.deleteEmployee(d),{onSuccess:()=>{r(),u.invalidateQueries([C.EMPLOYEE]),n("Empleado eliminado de forma exitosa",null)},onError:e=>{r(),n(`opps! algo no va bien ${e}`,"error")}}),f=[s.accessor("name",{header:()=>"Nombre",cell:e=>`${e.getValue()}`,footer:e=>e.column.id}),s.accessor("identification",{header:()=>"Identificacion",cell:e=>e.getValue(),footer:e=>e.column.id}),s.accessor("observations.initDate",{header:()=>"Fecha de ingreso",cell:e=>e.getValue()?e.getValue():o.jsx(l.Chip,{color:"red",value:"sin fecha",className:"text-center"}),footer:e=>e.column.id}),s.accessor("observations.endDate",{header:()=>"Fecha de salida",cell:e=>e.getValue()?e.getValue():o.jsx(l.Chip,{color:"red",value:"sin fecha",className:"text-center"}),footer:e=>e.column.id})];return c||p?o.jsx(x,{}):o.jsxs("div",{className:"",children:[o.jsx(g,{columns:f,data:(a==null?void 0:a.results.map(e=>({...e,observations:e.observations[0]?e.observations[0]:{initDate:0,endDate:0,id:0}})))||[],showDelete:!i,showUpdate:!i}),o.jsx(L,{handleRemove:m})]})}export{U as default};
