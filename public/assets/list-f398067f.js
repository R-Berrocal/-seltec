import{u as v,k as h,l as O,v as i,j as o,e as Y,m as n}from"./index-a20a86ba.js";import{T as b,c as g}from"./table-4d488073.js";import{B as x,A as j}from"./block_role-cb526c06.js";import{Q as D}from"./query-keys-94b21177.js";import{u as E,O as L}from"./observation-d42cda45.js";const s=g();function A(){const{observations:a,isLoading:l}=E(),{idRemove:c,closeAlert:d,user:t}=v(e=>e),u=h(),r=x.includes((t==null?void 0:t.role)||""),{mutate:m,isLoading:f}=O(()=>L.deleteObservation(c),{onSuccess:()=>{d(),u.invalidateQueries([D.OBSERVATION]),n("Observacion eliminada de forma exitosa",null)},onError:e=>{n(`opps! algo no va bien ${e}`,"error")}}),p=[s.accessor("employee.name",{header:()=>"Empleado",cell:e=>e.getValue(),footer:e=>e.column.id}),s.accessor("observation",{header:()=>"Observacion",cell:e=>e.getValue(),footer:e=>e.column.id}),s.accessor("initDate",{header:()=>"Fecha de ingreso",cell:e=>i(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id}),s.accessor("endDate",{header:()=>"Fecha de salida",cell:e=>i(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id})];return l||f?o.jsx(Y,{}):o.jsxs("div",{children:[o.jsx(b,{columns:p,data:(a==null?void 0:a.results)||[],showDelete:!r,showUpdate:!r}),o.jsx(j,{handleRemove:m})]})}export{A as default};
