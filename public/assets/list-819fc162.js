import{r as x,j as t,e as c,u as V,k as j,l as g,m as u}from"./index-602d4f83.js";import{D as L,I as E,B as R,T as y,A as D,c as M}from"./info-cc8e7551.js";import{u as C,a as S,V as h}from"./vehicle-b0796fd6.js";import{Q as A}from"./query-keys-652ea5af.js";const I=()=>{const{vechile:e,isLoading:s}=C(),l=x.useMemo(()=>{var a;return[{title:"placa",value:e==null?void 0:e.plate},{title:"tipo",value:e==null?void 0:e.type},{title:"Modelo",value:e==null?void 0:e.model},{title:"Placa De Remolque",value:e==null?void 0:e.trailerPlate},{title:"Dueño",value:e==null?void 0:e.owner},{title:"empresa",value:(a=e==null?void 0:e.company)==null?void 0:a.name}]},[e]);return t.jsx(L,{title:"Información del vehiculo",children:s?t.jsx(c,{}):t.jsx(E,{data:l})})},i=M();function H(){const{vehicles:e,isLoading:s}=S(),{idRemove:l,closeAlert:a,user:r}=V(o=>o),d=j(),n=R.includes((r==null?void 0:r.role)||""),{mutate:m,isLoading:p}=g(()=>h.deleteVehicle(l),{onSuccess:()=>{a(),d.invalidateQueries([A.VEHICLE]),u("Vehiculo eliminado de forma exitosa",null)},onError:o=>{u(`opps! algo no va bien ${o}`,"error")}}),f=[i.accessor("plate",{header:()=>"Placa",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("type",{header:()=>"Tipo",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("model",{header:()=>"Modelo",cell:o=>o.getValue(),footer:o=>o.column.id})];return s||p?t.jsx(c,{}):t.jsxs("div",{children:[t.jsx(y,{data:(e==null?void 0:e.results)||[],columns:f,showDelete:!n,showUpdate:!n}),t.jsx(I,{}),t.jsx(D,{handleRemove:m})]})}export{H as default};
