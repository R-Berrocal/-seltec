import{b as p,n as f,p as x,j as s,L as h,Q as V,q as i}from"./index-e9c0a00a.js";import{T as g,c as L}from"./table-fd10b765.js";import{A as j}from"./alert-ae0aa934.js";import{D as E}from"./download-74975c31.js";import{B as b}from"./block_role-b3da2c39.js";import{u as S,V as A}from"./vehicle-0da648ef.js";import"./useQuery-e736bbaf.js";const r=L(),C=[r.accessor("plate",{header:()=>"Placa",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("type",{header:()=>"Tipo",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("model",{header:()=>"Modelo",cell:e=>e.getValue(),footer:e=>e.column.id})];function v(){const{vehicles:e,isLoading:l}=S(),{id:c,closeAlert:n,user:o}=p(a=>a),u=f(),t=b.includes((o==null?void 0:o.role)||""),{mutate:d,isLoading:m}=x(()=>A.deleteVehicle(c),{onSuccess:()=>{n(),u.invalidateQueries([V.VEHICLE]),i("Vehiculo eliminado de forma exitosa",null)},onError:a=>{i(`opps! algo no va bien ${a}`,"error")}});return l||m?s.jsx(h,{}):s.jsxs("div",{className:"relative",children:[(o==null?void 0:o.role)==="ADMIN"&&s.jsx("div",{className:"absolute z-20 right-[210px] -top-12",children:s.jsx(E,{data:(e==null?void 0:e.results)||[],fileName:"vehiculos"})}),s.jsx(g,{total:(e==null?void 0:e.count)||0,data:(e==null?void 0:e.results)||[],columns:C,showActions:!t,showDelete:!t,showUpdate:!t}),s.jsx(j,{acction:d,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{v as default};
