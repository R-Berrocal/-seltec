import{r as h,j as s,e as c,u as x,k as g,l as O,m as n}from"./index-4f0194d7.js";import{D as v,I as j,T as y,A as D,c as E}from"./info-9a838d04.js";import{u as L,a as R,O as S}from"./observation-87002017.js";import{Q as A}from"./query-keys-2b4b518a.js";import{B as V}from"./block_role-b3da2c39.js";const C=()=>{const{observation:e,isLoading:o}=L(),l=h.useMemo(()=>[{title:"empleado",value:`${e==null?void 0:e.employee.name} ${e==null?void 0:e.employee.lastName}`},{title:"identificacion",value:e==null?void 0:e.employee.identification},{title:"correo",value:e==null?void 0:e.employee.email},{title:"observacion",value:e==null?void 0:e.observation},{title:"Fecha de ingreso",value:e==null?void 0:e.initDate},{title:"Fecha de salida",value:e==null?void 0:e.endDate}],[e]);return s.jsx(v,{title:"InformaciÃ³n de la observacion",children:o?s.jsx(c,{}):s.jsx(j,{data:l})})},t=E();function N(){const{observations:e,isLoading:o}=R(),{idRemove:l,closeAlert:d,user:i}=x(a=>a),u=g(),r=V.includes((i==null?void 0:i.role)||""),{mutate:m,isLoading:p}=O(()=>S.deleteObservation(l),{onSuccess:()=>{d(),u.invalidateQueries([A.OBSERVATION]),n("Observacion eliminada de forma exitosa",null)},onError:a=>{n(`opps! algo no va bien ${a}`,"error")}}),f=[t.accessor("employee.name",{header:()=>"Empleado",cell:a=>a.getValue(),footer:a=>a.column.id}),t.accessor("observation",{header:()=>"Observacion",cell:a=>a.getValue(),footer:a=>a.column.id}),t.accessor("initDate",{header:()=>"Fecha de ingreso",cell:a=>a.getValue(),footer:a=>a.column.id}),t.accessor("endDate",{header:()=>"Fecha de salida",cell:a=>a.getValue(),footer:a=>a.column.id})];return o||p?s.jsx(c,{}):s.jsxs("div",{children:[s.jsx(y,{columns:f,data:(e==null?void 0:e.results)||[],showDelete:!r,showUpdate:!r}),s.jsx(C,{}),s.jsx(D,{handleRemove:m})]})}export{N as default};
