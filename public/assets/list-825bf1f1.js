import{m as i,c as f,n as g,p as h,j as o,L as Y,Q as v,q as c,aa as O}from"./index-2d95d8aa.js";import{T as b,c as x}from"./table-51f06c16.js";import{A as L}from"./alert-f3c93674.js";import{B as j}from"./block_role-b3da2c39.js";import{u as D}from"./observation-5b7302e0.js";import"./useQuery-9ab57199.js";const a=x(),E=[a.accessor("employee.name",{header:()=>"Empleado",cell:e=>e.getValue(),footer:e=>e.column.id}),a.accessor("observation",{header:()=>"Observacion",cell:e=>e.getValue(),footer:e=>e.column.id}),a.accessor("initDate",{header:()=>"Fecha de ingreso",cell:e=>i(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id}),a.accessor("endDate",{header:()=>"Fecha de salida",cell:e=>i(e.getValue()).format("YYYY-MM-DD"),footer:e=>e.column.id})];function Q(){const{observations:e,isLoading:n}=D(),{id:l,closeAlert:u,user:s}=f(r=>r),d=g(),t=j.includes((s==null?void 0:s.role)||""),{mutate:m,isLoading:p}=h(()=>O.deleteObservation(l),{onSuccess:()=>{u(),d.invalidateQueries([v.OBSERVATION]),c("Observacion eliminada de forma exitosa",null)},onError:r=>{c(`opps! algo no va bien ${r}`,"error")}});return n||p?o.jsx(Y,{}):o.jsxs("div",{children:[o.jsx(b,{total:(e==null?void 0:e.count)||0,columns:E,data:(e==null?void 0:e.results)||[],showDelete:!t,showUpdate:!t,showActions:!t}),o.jsx(L,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{Q as default};
