import{r as x,j as t,e as c,u as h,k as v,l as j,m as n}from"./index-bbfb2b48.js";import{T as G,c as L}from"./table-f506fd45.js";import{D as A,a as R,A as S}from"./block_role-49218549.js";import{Q as C}from"./query-keys-f38cae6f.js";import{I as D}from"./info-6aa01e04.js";import{a as E,u as b,G as g}from"./group-aa11acf8.js";const M=()=>{const{group:e,isLoading:a}=E(),s=x.useMemo(()=>[{title:"id",value:e==null?void 0:e.id},{title:"nombre",value:e==null?void 0:e.name},{title:"fecha de creacion",value:new Date(e==null?void 0:e.createdAt).toLocaleString()},{title:"fecha de actulizacion",value:new Date(e==null?void 0:e.updatedAt).toLocaleString()}],[e]);return t.jsx(A,{title:"Informacion sobre el grupo",children:a?t.jsx(c,{}):t.jsx(D,{data:s})})},i=L(),P=()=>{const{groups:e,isLoading:a}=b(),{idRemove:s,closeAlert:u,user:r}=h(o=>o),d=v(),l=R.includes((r==null?void 0:r.role)||""),{mutate:m,isLoading:f}=j(()=>g.deleteGroup(s),{onSuccess:()=>{u(),d.invalidateQueries([C.GROUP]),n("Grupo eliminado de forma exitosa",null)},onError:o=>{n(`opps! algo no va bien ${o}`,"error")}}),p=[i.accessor("id",{header:()=>"Id",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("name",{header:()=>"Cargo",cell:o=>o.getValue(),footer:o=>o.column.id}),i.accessor("createdAt",{header:()=>"Fecha de creacion",cell:o=>o.getValue(),footer:o=>o.column.id})];return a||f?t.jsx(c,{}):t.jsxs("div",{children:[t.jsx(G,{data:(e==null?void 0:e.results)||[],columns:p,showDelete:!l,showUpdate:!l}),t.jsx(S,{handleRemove:m}),t.jsx(M,{})]})};export{P as default};
