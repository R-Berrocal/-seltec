import{r as v,j as o,e as c,u as x,k as g,l as j,m as n}from"./index-38497bf7.js";import{T as p,c as L}from"./table-eea1923c.js";import{D as h,B as b,A as R}from"./block_role-8f431153.js";import{Q as M}from"./query-keys-cd3f1922.js";import{I as S}from"./info-50ae1901.js";import{u as A,a as C,E as D}from"./employee-b0302c71.js";const I=()=>{const{employee:e,isLoading:t}=A(),s=v.useMemo(()=>[{title:"nombre",value:e==null?void 0:e.name},{title:"apellido",value:e==null?void 0:e.lastName},{title:"identificacion",value:e==null?void 0:e.identification},{title:"correo electronico",value:e==null?void 0:e.email},{title:"empresa",value:e==null?void 0:e.company.name},{title:"cargo",value:e==null?void 0:e.roleEmployee.name},{title:"direccion",value:(e==null?void 0:e.address)||""}],[e]);return o.jsx(h,{title:"Informacion sobre el empleado",children:t?o.jsx(c,{}):o.jsx(S,{data:s})})},r=L();function w(){const{employees:e,isLoading:t}=C(),{idRemove:s,closeAlert:u,user:i}=x(a=>a),d=g(),l=b.includes((i==null?void 0:i.role)||""),{mutate:m,isLoading:f}=j(()=>D.deleteEmployee(s),{onSuccess:()=>{u(),d.invalidateQueries([M.EMPLOYEE]),n("Empleado eliminado de forma exitosa",null)},onError:a=>{n(`opps! algo no va bien ${a}`,"error")}}),E=[r.accessor("name",{header:()=>"Nombre",cell:a=>`${a.getValue()}`,footer:a=>a.column.id}),r.accessor("email",{header:()=>"Email",cell:a=>a.getValue(),footer:a=>a.column.id}),r.accessor("identification",{header:()=>"Identificacion",cell:a=>a.getValue(),footer:a=>a.column.id})];return t||f?o.jsx(c,{}):o.jsxs("div",{className:"",children:[o.jsx(p,{columns:E,data:(e==null?void 0:e.results)||[],showDelete:!l,showUpdate:!l}),o.jsx(I,{}),o.jsx(R,{handleRemove:m})]})}export{w as default};
