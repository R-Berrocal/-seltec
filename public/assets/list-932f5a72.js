import{u as f,k as C,l as x,j as o,e as g,m as i}from"./index-a20a86ba.js";import{T as h,c as v}from"./table-4d488073.js";import{a as E,A as L}from"./block_role-cb526c06.js";import{Q as j}from"./query-keys-94b21177.js";import{a as R,C as y}from"./company-3e46ec56.js";const r=v();function Q(){const{companies:s,isLoading:l}=R(),{idRemove:n,closeAlert:c,user:a}=f(e=>e),m=C(),t=E.includes((a==null?void 0:a.role)||""),{mutate:u,isLoading:d}=x(()=>y.deleteCompany(n),{onSuccess:()=>{c(),m.invalidateQueries([j.COMPANY]),i("Empresa eliminada de forma exitosa",null)},onError:e=>{i(`opps! algo no va bien ${e}`,"error")}}),p=[r.accessor("name",{header:()=>"Nombre",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("address",{header:()=>"Direccion",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("email",{header:()=>"Email",cell:e=>e.getValue(),footer:e=>e.column.id})];return l||d?o.jsx(g,{}):o.jsxs("div",{className:"",children:[o.jsx(h,{data:(s==null?void 0:s.results)||[],columns:p,showDelete:!t,showUpdate:!t}),o.jsx(L,{handleRemove:u})]})}export{Q as default};
