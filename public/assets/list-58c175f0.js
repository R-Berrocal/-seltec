import{b as f,n as h,p as x,j as o,L as V,T as t,q as L,Q as g,t as i}from"./index-00a53ffa.js";import{A as j}from"./alert-cd0f6524.js";import{B as E}from"./block_role-55ad1a6d.js";import{u as C,V as S}from"./vehicle-4b84686b.js";import"./useQuery-400e87ec.js";const r=L(),b=[r.accessor("plate",{header:()=>"Placa",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("type",{header:()=>"Tipo",cell:e=>e.getValue(),footer:e=>e.column.id}),r.accessor("model",{header:()=>"Modelo",cell:e=>e.getValue(),footer:e=>e.column.id})];function Q(){const{vehicles:e,isLoading:l}=C(),{id:c,closeAlert:n,user:s}=f(a=>a),u=h(),d=E.includes((s==null?void 0:s.role)||""),{mutate:m,isLoading:p}=x(()=>S.deleteVehicle(c),{onSuccess:()=>{n(),u.invalidateQueries([g.VEHICLE]),i("Vehiculo eliminado de forma exitosa",null)},onError:a=>{i(`opps! algo no va bien ${a}`,"error")}});return l||p?o.jsx(V,{}):o.jsxs("div",{className:"relative",children:[o.jsxs(t,{data:(e==null?void 0:e.results)||[],columns:b,showActions:!d,children:[o.jsx(t.RowHeader,{}),o.jsx(t.Body,{})]}),o.jsx(j,{acction:m,title:"Seguro que desea realizar esta acccion?",description:"esta accion no es revercible"})]})}export{Q as default};
