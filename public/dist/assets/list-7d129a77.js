import{r as o,R as w,j as e,a as n,u,e as b,f as g,g as N,h as k,i as p}from"./index-9c537936.js";import{u as y,a as E,Q as L,E as M}from"./employee-48a12d4d.js";import{C as R}from"./ChevronDownIcon-6ee12e05.js";function C({title:r,titleId:a,...s},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,o.createElement("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 01-1.06-1.06l3.75-3.75zm-3.75 9.75a.75.75 0 011.06 0L12 17.69l3.22-3.22a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 010-1.06z",clipRule:"evenodd"}))}const I=o.forwardRef(C),B=I;function F({title:r,titleId:a,...s},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,o.createElement("path",{fillRule:"evenodd",d:"M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z",clipRule:"evenodd"}))}const O=o.forwardRef(F),A=O;function $({title:r,titleId:a,...s},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,o.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z",clipRule:"evenodd"}))}const D=o.forwardRef($),z=D;function H({title:r,titleId:a,...s},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"}))}const T=o.forwardRef(H),P=T;function S({title:r,titleId:a,...s},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"}))}const W=o.forwardRef(S),G=W;function Q({title:r,titleId:a,...s},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))}const U=o.forwardRef(Q),V=U;function Y({title:r,titleId:a,...s},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"}))}const q=o.forwardRef(Y),K=q;function _({title:r,titleId:a,...s},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"}))}const J=o.forwardRef(_),X=J;function Z({title:r,titleId:a,...s},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}))}const ee=o.forwardRef(Z),re=ee;function ae(){const[r,a]=w.useState(1),s=m=>({variant:r===m?"filled":"text",color:"gray",onClick:()=>a(m),className:"rounded-full"}),t=()=>{r!==5&&a(r+1)},c=()=>{r!==1&&a(r-1)};return e.jsxs("div",{className:"flex items-center justify-between w-full gap-4",children:[e.jsxs(n.Button,{variant:"text",className:"flex items-center gap-2 rounded-full dark:text-white",onClick:c,disabled:r===1,children:[e.jsx(P,{strokeWidth:2,className:"h-4 w-4"})," Previous"]}),e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(n.IconButton,{className:"dark:text-white ",...s(1),children:"1"}),e.jsx(n.IconButton,{className:"dark:text-white",...s(2),children:"2"}),e.jsx(n.IconButton,{className:"dark:text-white",...s(3),children:"3"}),e.jsx(n.IconButton,{className:"dark:text-white",...s(4),children:"4"}),e.jsx(n.IconButton,{className:"dark:text-white",...s(5),children:"5"})]}),e.jsxs(n.Button,{variant:"text",className:"flex items-center gap-2 rounded-full dark:text-white",onClick:t,disabled:r===5,children:["Next",e.jsx(G,{strokeWidth:2,className:"h-4 w-4"})]})]})}function ne(){const[r,a]=w.useState(!1),{isDark:s}=u();return e.jsxs(n.Menu,{open:r,handler:a,placement:"bottom-end",children:[e.jsx(n.MenuHandler,{children:e.jsxs(n.Button,{variant:"outlined",color:s?"white":"blue-gray",className:"flex items-center gap-1  py-0.5 p-2 lg:ml-auto",children:[e.jsx(K,{className:"h-5 w-5"}),"Filtrar"]})}),e.jsxs(n.MenuList,{className:"p-2",children:[e.jsx(n.MenuItem,{children:e.jsxs("label",{htmlFor:"item-1",className:"flex cursor-pointer items-center gap-2 p-0",children:[e.jsx(n.Radio,{ripple:!1,id:"item-1",containerProps:{className:"p-0"},className:"hover:before:content-none",crossOrigin:"true"}),"Menu Item 1"]})}),e.jsx("hr",{className:"my-1"}),e.jsx(n.MenuItem,{children:e.jsxs("label",{htmlFor:"item-1",className:"flex cursor-pointer items-center gap-2 p-0",children:[e.jsx(n.Radio,{ripple:!1,id:"item-1",containerProps:{className:"p-0"},className:"hover:before:content-none",crossOrigin:"true"}),"Menu Item 2"]})}),e.jsx(n.MenuItem,{children:e.jsxs("label",{htmlFor:"item-1",className:"flex cursor-pointer items-center gap-2 p-0",children:[e.jsx(n.Radio,{ripple:!1,id:"item-1",containerProps:{className:"p-0"},className:"hover:before:content-none",crossOrigin:"true"}),"Menu Item 2"]})}),e.jsx(n.MenuItem,{children:e.jsxs("label",{htmlFor:"item-1",className:"flex cursor-pointer items-center gap-2 p-0",children:[e.jsx(n.Radio,{ripple:!1,id:"item-1",containerProps:{className:"p-0"},className:"hover:before:content-none",crossOrigin:"true"}),"Menu Item 2"]})})]})]})}function se(){return e.jsx(n.CardHeader,{floated:!1,shadow:!1,className:"rounded-none dark:bg-black dark:text-white",children:e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 md:flex-row",children:[e.jsx("div",{className:"w-full md:w-max",children:e.jsx(ne,{})}),e.jsx("div",{className:"w-full md:w-72",children:e.jsx(n.Input,{label:"Buscar",icon:e.jsx(z,{className:"h-5 w-5"}),crossOrigin:"true"})})]})})}function te({heads:r}){const{isDark:a}=u(s=>s);return e.jsx("thead",{children:e.jsx("tr",{children:r.map((s,t)=>e.jsx("th",{className:"cursor-pointer first:rounded-l-xl last:rounded-r-xl bg-blue-gray-50/50 dark:bg-gray-900 dark:text-white p-4 transition-colors hover:bg-blue-gray-50 dark:hover:bg-gray-800",children:e.jsxs(n.Typography,{variant:"small",color:a?"white":"blue-gray",className:"flex items-center justify-between gap-2 font-normal leading-none opacity-70",children:[s,t!==r.length-1&&e.jsx(B,{strokeWidth:2,className:"h-4 w-4"})]})},s))})})}function oe({rows:r,heads:a}){const{isDark:s,showDialod:t,showAlert:c}=u(l=>l),m=b();return e.jsx(n.CardBody,{className:"overflow-auto px-0",children:e.jsxs("table",{className:"mt-4 w-full min-w-max table-auto text-left",children:[e.jsx(te,{heads:a}),e.jsx("tbody",{children:r.map((l,h)=>{const d=h===r.length-1?"p-4":"p-4 border-b border-blue-gray-50 dark:border-gray-800";return e.jsxs("tr",{className:"dark:text-white",children:[Object.values(l).splice(1).map((i,v)=>e.jsx("td",{className:d,children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"flex flex-col",children:e.jsx(n.Typography,{variant:"small",color:s?"white":"blue-gray",className:"font-normal",children:i})})})},v)),e.jsx("td",{className:d,children:e.jsxs(n.Menu,{children:[e.jsx(n.MenuHandler,{children:e.jsx(n.IconButton,{variant:"text",className:"rounded-full ",children:e.jsx(A,{className:"h-4 w-4 dark:text-teal-200"})})}),e.jsxs(n.MenuList,{className:"p-1 dark:bg-black dark:text-white dark:border-gray-700",children:[e.jsxs(n.MenuItem,{className:"flex items-center gap-2",onClick:()=>m(`edit/${Object.values(l)[0]}`),children:[e.jsx(X,{className:"h-4 w-4",color:"#F4CE14"}),e.jsx(n.Typography,{variant:"small",className:"font-medium",children:"Editar"})]}),e.jsxs(n.MenuItem,{className:"flex items-center gap-2",onClick:()=>c(Object.values(l)[0]),children:[e.jsx(re,{className:"h-4 w-4",color:"#FE0000"}),e.jsx(n.Typography,{variant:"small",className:"font-medium",children:"Eliminar"})]}),e.jsxs(n.MenuItem,{className:"flex items-center gap-2",onClick:()=>t(Object.values(l)[0]),children:[e.jsx(V,{className:"h-4 w-4",color:"#3CCF4E"}),e.jsx(n.Typography,{variant:"small",className:"font-medium",children:"mas informacion"})]})]})]})})]},l.id)})})]})})}function le(){return e.jsx(n.CardFooter,{className:"flex items-center justify-between border-t border-blue-gray-50 dark:border-gray-800 p-4",children:e.jsx(ae,{})})}function x({heads:r,rows:a,showFooter:s=!0,showHeader:t=!0}){return e.jsxs(n.Card,{className:"h-full w-full rounded-none shadow-none dark:bg-black dark:text-white",children:[t&&e.jsx(se,{}),e.jsx(oe,{heads:r,rows:a}),s&&e.jsx(le,{})]})}function ie({handleRemove:r}){const{isAlertOpen:a,closeAlert:s,showAlert:t}=u();return e.jsxs(n.Dialog,{size:"xs",open:a,handler:a?s:t,children:[e.jsx(n.DialogHeader,{children:"Seguro que desea realizar esta acccion?"}),e.jsx(n.DialogBody,{children:e.jsx(n.Typography,{variant:"paragraph",color:"red",children:"Esta accion no es reversible"})}),e.jsxs(n.DialogFooter,{children:[e.jsx(n.Button,{variant:"text",onClick:s,className:"mr-1",children:"cancelar"}),e.jsx(n.Button,{variant:"text",color:"red",onClick:r,className:"mr-1",children:"confirmar"})]})]})}function ce({children:r,title:a}){const{isOpenDialog:s,showDialod:t,closeDialod:c}=u();return e.jsxs(n.Dialog,{size:"xl",open:s,handler:s?c:t,className:"max-h-[600px] overflow-y-scroll",children:[e.jsx(n.DialogHeader,{children:a}),e.jsx(n.DialogBody,{children:r}),e.jsx(n.DialogFooter,{children:e.jsx(n.Button,{variant:"text",color:"red",onClick:c,className:"mr-1",children:"Cerrar"})})]})}function de({open:r}){return e.jsx(R,{strokeWidth:2.5,className:`h-5 w-5 transition-transform ${r?"rotate-180":""}`})}function j({title:r,body:a,position:s}){const[t,c]=o.useState(0),m=l=>c(t===l?0:l);return e.jsx("div",{className:"w-full px-4",children:e.jsxs(n.Accordion,{open:t===s,icon:e.jsx(de,{open:t}),children:[e.jsx(n.AccordionHeader,{onClick:()=>m(s),children:r}),e.jsx(n.AccordionBody,{className:"p-0 py-0 px-0",children:a})]})})}const me=({title:r,value:a})=>e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx(n.Typography,{variant:"h5",className:"px-4 py-2 text-lg font-semibold capitalize",children:r}),e.jsx(n.Typography,{variant:"paragraph",className:"px-4 py-2",children:a||""})]}),ue=({data:r,children:a})=>e.jsx("section",{className:"w-full mx-2",children:e.jsx("header",{className:"bg-white p-3 rounded-sm",children:e.jsxs("article",{className:"text-gray-700",children:[e.jsx("div",{className:"grid md:grid-cols-2 text-sm rounded-lg",children:r.map((s,t)=>e.jsx(me,{...s},s.title+s.value+t.toString()))}),a]})})}),he=()=>{const{employee:r,isLoading:a}=y(),s=o.useMemo(()=>[{title:"nombre",value:r==null?void 0:r.name},{title:"apellido",value:r==null?void 0:r.lastName},{title:"identificacion",value:r==null?void 0:r.identification},{title:"correo electronico",value:r==null?void 0:r.email},{title:"empresa",value:r==null?void 0:r.company.name},{title:"rol",value:r==null?void 0:r.roleEmployee.name},{title:"direccion",value:(r==null?void 0:r.address)||""}],[r]);return e.jsx(ce,{title:"Informacion sobre el empleado",children:a?e.jsx(g,{}):e.jsxs(ue,{data:s,children:[e.jsx(j,{position:1,title:"Grupos",body:e.jsx("section",{className:"",children:e.jsx(x,{heads:["id","nombre","fecha",""],rows:(r==null?void 0:r.groups.map(t=>({none:t.id,id:t.id,nombre:t.name,fecha:t.createdAt})))||[],showFooter:!1,showHeader:!1})})}),e.jsx(j,{position:2,title:"Autos",body:e.jsx("section",{className:"",children:e.jsx(x,{heads:["operacion","dias de servicio","nombre","dueno",""],rows:(r==null?void 0:r.assignedVehicles.map(t=>({id:t.id,operacion:t.observations,days:t.daysService,nombre:t.vehicle.model,owner:t.vehicle.owner})))||[],showFooter:!1,showHeader:!1})})})]})})};function je(){const{employees:r,isLoading:a}=E(),{idRemove:s,closeAlert:t}=u(d=>d),c=N(),{mutate:m,isLoading:l}=k(()=>M.deleteEmployee(s),{onSuccess:()=>{t(),c.invalidateQueries([L.EMPLOYEE]),p("Empleado eliminado de forma exitosa",null)},onError:d=>{p(`opps! algo no va bien ${d}`,"error")}}),h=o.useMemo(()=>{var d;return((d=r==null?void 0:r.results)==null?void 0:d.map(i=>({id:i.id,fullName:`${i==null?void 0:i.name} ${(i==null?void 0:i.lastName)||""}`,email:i.email,identification:i.identification,date:i.createdAt})))||[]},[r]),f=["Nombre","Correo","Identificacion","Fecha de creacion","Acciones"];return a||l?e.jsx(g,{}):e.jsxs("div",{className:"",children:[e.jsx(x,{heads:f,rows:h||[]}),e.jsx(he,{}),e.jsx(ie,{handleRemove:m})]})}export{je as default};
